---
layout: post
category: book
title: 일관성 있는 웹 서비스 인터페이스 설계를 위한 REST API 디자인 규칙
---


## 1. REST 소개
### 1.1 Hello World Wild Web
웹은 스위스 제네바의 유럽입자물리연구소CERN 산하 ‘데이터 수집과 제어’ 그룹에 근무하던 컴퓨터 프로그래머가 새로운 소프트웨어 프로젝트를 진행하기 위해 낸 기발한 아이디어에서 시작되었다.

1990년 12월, 지식을 쉽게 공유하고자 월드와이드웹WorldWideWeb01이라는 비영리 소프트웨어 프로젝트를 시작한 팀 버너스리Tim Berners-Lee는 약 1년간 작업한 후 다 음과 같은 내용을 고안하고 구현했다.

- URIUniform Resource Identifier : 모든 웹 도큐먼트에 할당된 유일한 주소
- HTTPHyper Text Transfer Protocol : 인터넷을 통해 컴퓨터가 통신하기 위한 메시지 기반 언어
- HTMLHyper Text Mark-up Language : 정보를 제공하는 도큐먼트를 표현하기 위한 하이퍼텍스트 마크업 언어. 도큐먼트는 관련된 다른 도큐먼트에 대한 링크를/ 포함할 수 있음
- 최초의 웹 서버
- WorldWideWeb과 Nexus : 버너스리는 최초의 웹 브라우저를 ‘WorldWideWeb’ 이라 불렀으나 이후에 웹 자체와의 혼동을 피하기 위해 Nexus라고 이름 붙임
- 웹 브라우저에 탑재된 최초의 위지윅(WYSIWYG)04 HTML 에디터


1991년 8월 6일, 버너스리는 최초의 웹 페이지에 다음과 같이 썼다.
>WorldWideWeb(W3)은 전 세계에 있는 모든 도큐먼트에 접근하는 것을 목표로 하는 광범위한 하이퍼미디어 정보검색의 시작이다.


### 1.2 웹 아키텍쳐
1993년 말에 공동으로 ‘아파치 HTTP 서버 프로젝트’를 시작한 로이 필딩은 웹 확장성에 관심이 있었다.
필딩은 제약점들을 여섯 가지 범주로 묶어 **웹의 구조적 스타일(Web’s architectural style)** 이라고 불렀다. 언급한 웹의 구조적 스타일은 다음과 같다.

1. 클라이언트/서버 Client/Server
2. 균일한 인터페이스 Uniform Interface
3. 계층 시스템 Layered System
4. 캐시 Cache
5. 상태 없음 Stateless
6. 주문형 코드 Code-on-demand

**클라이언트/서버**
웹은 클라이언트/서버 기반 시스템으로, 클라이언트/서버 규약의 핵심 사항은 관 심사의 분리다. 그래서 시스템 내에서 클라이언트와 서버의 역활은 분명하게 나뉜 다. 웹의 일관된 인터페이스를 따른다는 전제하에, 클라이언트와 서버는 각자의 언 어 및 기술을 사용하여 독립적으로 구현되고 배포될 수 있다.

**균일한 인터페이스**
웹을 구성하는 클라이언트, 서버, 네트워크 등의 매체 간 인터페이스는 각 인터페 이스의 일관성에 기반한다. 이러한 웹 컴포넌트들 중 하나라도 기존에 구축된 표준 에서 벗어나면, 웹 커뮤니케이션 체계는 붕괴된다.
웹 컴포넌트들은 필딩이 구분한 다음 네 가지의 인터페이스 제약에 따라 서로 일관 성 있게 상호 운영된다.
1. 리소스 식별
2. 표현을 통한 리소스 처리
3. 자기-서술적 메시지Self-descriptive messages
4. 애플리케이션 상태 엔진으로서의 하이퍼미디어(HATEOAS07)

**계층 시스템**
계층 시스템이라는 제약조건은 프락시 또는 게이트웨이 같은 네트워크 기반의 중 간매체를 사용할 수 있게 한다. 웹의 일관된 인터페이스를 사용하면 중간매체를 클 라이언트와 서버 사이에 마치 없는 것처럼 배치할 수 있다.
일반적으로 네트워크 기반의 중간매체는 특별한 목적을 위해 클라이언트와 서버 간 통신을 가로챌 수 있다. 네트워크 기반의 중간매체는 보통 보안을 강화하거나, 응답을 캐싱하거나, 부하를 분산하는 용도로 사용한다.

**캐시**
캐시는 웹 구조의 중요 제약조건 중 하나다. 캐시라는 제약조건에 의해 웹 서버가 응답 데이터마다 캐시 여부를 선언한다. 캐싱 응답 데이터는 클라이언트가 느끼는 지연을 감소시키고 애플리케이션의 전체적인 이용 가능성과 안정성을 향상시키 며, 웹 서버의 부하를 제어한다. 다시 말해, 캐싱08은 웹의 전체적인 비용을 낮출 수 있는 중요한 방법이다. 캐시는 클라이언트와 서버 사이의 네트워크 경로라면 어디 에라도 위치할 수 있다. 웹 서버단, 콘텐츠 전송망CDN단, 또는 클라이언트 내에도 가능하다.

**상태 없음**
상태 없음 제약조건은 웹 서버가 클라이언트의 상태를 관리할 필요가 없다는 의미 다. 따라서 각 클라이언트는 웹 서버와 상호작용하는 관련 상황 정보를 직접 관리 해야 한다. 웹 서버는 웹 애플리케이션과의 복잡한 커뮤니케이션을 위해 필요한 상 태 관리를 클라이언트에 맡김으로써 더 많은 클라이언트에 서비스할 수 있다. 이러 한 트레이드오프는 웹 구조적인 스타일의 확장성에 이바지하는 주요 요소다.

**주문형 코드**
웹은 주문형 코드(Code-On-Demand)를 아주 많이 사용한다. 이 제약조건은 스크립트나 플러그인 같은 실행 가능한 프로그램을 일시적으로 클라이언트에 전송하여, 클라 이언트가 실행할 수 있도록 한다.
주문형 코드는 웹 서버와 클라이언트 사이에 기술적 결합을 만들어내기도 하는데, 클라이언트는 필요할 때마다 서버에서 내려받은 실행 코드를 이해해야 하기 때문 이다. 이러한 이유로 주문형 코드는 웹의 구조적 스타일에서 유일한 선택사항이다. 주문형 코드 제약사항의 예로 자바 애플릿, 자바스크립트, 플래시 같은 웹 브라우 저 기반의 기술들이 있다.


### 1.3 웹표준
필딩은 팀 버너스리를 비롯한 다른 개발자들과 함께 웹 확장성을 높이는 작업 을 했다. 이런 작업을 통해 표준 설계안을 만들었고, HTTP의 새로운 버전인 HTTP/1.1 스펙을 작성하였다. 또한, URI 문법 형식도 (RFC 3986)으로 규정하 였다. 이렇게 정리된 표준은 웹을 통해 급속히 확산되었고, 웹이 지속적으로 성장하 는 기틀을 마련했다.

### 1.4 REST
필딩은 자신의 박사학위 논문에 서 ‘웹의 구조적 스타일’이라고 이름 붙인 이 문제에 대해 설명하였다. 필딩이 ‘Representational State Transfer(표현 상태 전이, REST)’이라는 이름을 붙인, 웹의 구조적 스타일에 대한 설명은 제약조건들로 이루어져 있다.

### 1.5 REST API
웹 서비스는 특정한 목적을 위해 만들어진 웹 서버로, 다른 사이트나 다른 애플리 케이션이 필요로 하는 것을 제공한다. 클라이언트 프로그램은 웹 서버에서 제공하 는 API를 이용하여 웹 서비스와 통신한다. 보통 API는 데이터와 기능의 집합을 제 공하여 컴퓨터 프로그램 간 상호작용을 촉진하며, 서로 정보를 교환할 수 있게 해 준다.
REST API를 제공하는 웹 서비스를 ‘RESTful’하다고 할 수 있다. REST API는 상 호 연결된 리소스의 결합체며, 이 리소스 집합을 일컬어 REST API의 리소스 모델 이라고 한다.

### 1.6 REST API 설계