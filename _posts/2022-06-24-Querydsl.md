---
layout: post
title: QueryDSL (type-safe Query)
---

## 문제
긴급 요구사항
- 검색 조건 추가
- 나이
- 이름
- 퇴근시간 10분전...

쿼리 추가
String sql =   
"select * from member" +  
"where name like ?" +  
"and age between ? and ?"  

컴파일 완료-> 배포완료-> 퇴근완료-> 버그발생-> !!

문자를 합치면  
"select * from memberwhere name like ?and age between ? and ?"

QUERY 의 문제점  
- QUERY 는 문자, Type-check 불가능   
- 실행하기 전까지 작동여부 확인 불가

에러는 크게 2가지
- 컴파일 에러 (좋은 에러)
- 런타임 에러 (나쁜 에러)

SQL, JPQL  
만약 SQL 이 클래스처럼 타입이 있고 자바 코드로 작성 할 수 있다면?

Type-safe
- 컴파일시 에러 체크 가능
- Code-assistant x 100 !!!
- CTRL + SPACE + . (DOT)

QueryDSL
- 쿼리를 Java 로 type-safe 하게 개발할 수 있게 지원 하는 프레임워크
- 주로 JPA 쿼리(JPQL)에 사용

## JPA Query (java ORM)
질문 : 사람을 찾아보자  
- 20~40살
- 성 = 김씨
- 나이 많은 순서
- 3명을 출력하라

JPA 에서 QUERY 방법은 크게 3가지
1. JPQL (HQL)
   - 장점 : SQL QUERY 와 비슷해서 금방 익숙해짐
   - 단점 : type-safe 아님 동적쿼리 생성이 어려움
2. Criteria API
   - 장점 : 동적쿼리 생성이 쉬움??
   - 단점 : type-safe 아님, 너무 너무 너무 복잡함, 알아야 할게 너무 많음
3. MetaModel Criteria API(type-safe)
   - Criteria API + MetaModel, Criteria API 와 거의 동일, 복잡하긴 마차가지

>이건 아니야ㅡㅡ; -timowest-

## QueryDSL?

## QueryDSL - JPA

## 기능 살펴보기
