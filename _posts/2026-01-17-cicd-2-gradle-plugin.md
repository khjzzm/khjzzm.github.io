---
layout: post
title: "[Part 2] Gradle Plugin ê°œë°œ - Extension, Task, ë°°í¬ê¹Œì§€"
tags: [ gradle, kotlin ]
---

> **CI/CD í•™ìŠµ ì‹œë¦¬ì¦ˆ**
> - [Part 1: Kotlin ë¬¸ë²• ê¸°ì´ˆ](/2026/01/cicd-1-kotlin-basic)
> - **Part 2: Gradle Plugin ê°œë°œ** (í˜„ì¬ ê¸€)
> - [Part 3: Jenkins Pipeline + Groovy ê¸°ì´ˆ](/2026/01/cicd-3-jenkins-pipeline-groovy)
> - [Part 4: App-Builder Plugin ì‹¤ì „ ë¶„ì„](/2026/01/cicd-4-app-builder-plugin)

## ëª©ì°¨

1. [Gradle ê°œìš”](#1-gradle-ê°œìš”)
    - [ë¹Œë“œ ë„êµ¬ê°€ ì—†ë‹¤ë©´?](#13-ë¹Œë“œ-ë„êµ¬ê°€-ì—†ë‹¤ë©´)
2. [Gradle í”ŒëŸ¬ê·¸ì¸ì´ë€?](#2-gradle-í”ŒëŸ¬ê·¸ì¸ì´ë€)
    - [Java í”ŒëŸ¬ê·¸ì¸ ìƒì„¸](#22-java-í”ŒëŸ¬ê·¸ì¸-ìƒì„¸)
    - [Spring Boot í”ŒëŸ¬ê·¸ì¸ ìƒì„¸](#23-spring-boot-í”ŒëŸ¬ê·¸ì¸-ìƒì„¸)
3. [í•µì‹¬ ê°œë…](#3-í•µì‹¬-ê°œë…)
4. [í”ŒëŸ¬ê·¸ì¸ ê°œë°œ ê¸°ì´ˆ](#4-í”ŒëŸ¬ê·¸ì¸-ê°œë°œ-ê¸°ì´ˆ)
5. [Extension (DSL ì„¤ì •)](#5-extension-dsl-ì„¤ì •)
6. [Task ê°œë°œ](#6-task-ê°œë°œ)
7. [í”ŒëŸ¬ê·¸ì¸ ë°°í¬](#7-í”ŒëŸ¬ê·¸ì¸-ë°°í¬)
8. [ì‹¤ì „ ì˜ˆì œ: app-builder-plugin](#8-ì‹¤ì „-ì˜ˆì œ-app-builder-plugin) *(Part 4 ì°¸ì¡°)*
    - [í”„ë¡œì íŠ¸ êµ¬ì¡°: Gradle í”ŒëŸ¬ê·¸ì¸ + Jenkins Shared Library](#81-í”„ë¡œì íŠ¸-êµ¬ì¡°-gradle-í”ŒëŸ¬ê·¸ì¸--jenkins-shared-library)
    - [í˜¸ì¶œ ë°©ì‹ì˜ ì°¨ì´](#83-í˜¸ì¶œ-ë°©ì‹ì˜-ì°¨ì´)
    - [ì „ì²´ CI/CD íë¦„](#84-ì „ì²´-cicd-íë¦„)
    - [Jenkins Shared Library í˜¸ì¶œ ê·œì¹™](#86-jenkins-shared-library-í˜¸ì¶œ-ê·œì¹™)
9. [ì‹¤ìŠµ: ê°„ë‹¨í•œ í”ŒëŸ¬ê·¸ì¸ ë§Œë“¤ê¸°](#9-ì‹¤ìŠµ-ê°„ë‹¨í•œ-í”ŒëŸ¬ê·¸ì¸-ë§Œë“¤ê¸°)
10. [í•µì‹¬ ìš”ì•½](#10-í•µì‹¬-ìš”ì•½)
11. [ì°¸ê³  ìë£Œ](#11-ì°¸ê³ -ìë£Œ)

---

## 1. Gradle ê°œìš”

### 1.1 Gradleì´ë€?

**Gradle**ì€ JVM ê¸°ë°˜ì˜ **ë¹Œë“œ ìë™í™” ë„êµ¬**ì…ë‹ˆë‹¤.

> **ì‰½ê²Œ ë§í•´ì„œ...**
>
> ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ë‚˜ë©´ "ì»´íŒŒì¼ â†’ í…ŒìŠ¤íŠ¸ â†’ íŒ¨í‚¤ì§• â†’ ë°°í¬" ê°™ì€ ì‘ì—…ì„ í•´ì•¼ í•˜ëŠ”ë°,
> ì´ê±¸ ë§¤ë²ˆ ì†ìœ¼ë¡œ í•˜ë©´ ë„ˆë¬´ ê·€ì°®ì–ì•„ìš”?
>
> Gradleì€ ì´ëŸ° ë°˜ë³µ ì‘ì—…ì„ **ìë™ìœ¼ë¡œ** í•´ì£¼ëŠ” ë„êµ¬ì˜ˆìš”.
> `gradle build` í•œ ë²ˆì´ë©´ ì•Œì•„ì„œ ë‹¤ í•´ì¤ë‹ˆë‹¤.
>
> ë§ˆì¹˜ **ì„¸íƒê¸°**ì²˜ëŸ¼ìš”. ë¹¨ë˜ë¥¼ ë„£ê³  ë²„íŠ¼ë§Œ ëˆ„ë¥´ë©´
> "ì„¸íƒ â†’ í—¹êµ¼ â†’ íƒˆìˆ˜"ë¥¼ ìë™ìœ¼ë¡œ í•´ì£¼ë“¯ì´,
> Gradleë„ ì½”ë“œë¥¼ ë„£ê³  ëª…ë ¹ë§Œ ì‹¤í–‰í•˜ë©´ ë¹Œë“œ ê³¼ì •ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì¤ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ë¹Œë“œ ë„êµ¬ ë°œì „ì‚¬                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Ant (2000)  â†’  Maven (2004)  â†’  Gradle (2012)              â”‚
â”‚     â”‚              â”‚                â”‚                        â”‚
â”‚     â”‚              â”‚                â””â”€ Groovy/Kotlin DSL     â”‚
â”‚     â”‚              â”‚                   ìœ ì—°í•¨ + ì„±ëŠ¥          â”‚
â”‚     â”‚              â”‚                                         â”‚
â”‚     â”‚              â””â”€ XML ê¸°ë°˜, Convention over Config       â”‚
â”‚     â”‚                 ì˜ì¡´ì„± ê´€ë¦¬ ë„ì…                        â”‚
â”‚     â”‚                                                        â”‚
â”‚     â””â”€ XML ê¸°ë°˜, ì ˆì°¨ì  ë¹Œë“œ                                  â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Gradle vs Maven

> **Mavenê³¼ Gradle, ë­ê°€ ë‹¤ë¥¼ê¹Œìš”?**
>
> ë‘˜ ë‹¤ ë¹Œë“œ ë„êµ¬ì¸ë°, **Maven**ì€ XMLë¡œ ì„¤ì •í•˜ê³  **Gradle**ì€ ì½”ë“œ(Groovy/Kotlin)ë¡œ ì„¤ì •í•´ìš”.
>
> ë¹„ìœ í•˜ìë©´:
> - **Maven** = ì •í•´ì§„ ì–‘ì‹ì— ë§ì¶° ì‘ì„±í•˜ëŠ” **ê³µë¬¸ì„œ** (ë”±ë”±í•˜ì§€ë§Œ ëª…í™•í•¨)
> - **Gradle** = ììœ ë¡­ê²Œ ì“¸ ìˆ˜ ìˆëŠ” **ë©”ëª¨ì¥** (ìœ ì—°í•˜ì§€ë§Œ ë°°ìš¸ ê²Œ ì¢€ ìˆìŒ)
>
> ìš”ì¦˜ì€ Gradleì´ ë” ì¸ê¸° ìˆì–´ìš”. íŠ¹íˆ **ë¹Œë“œ ì†ë„**ê°€ ë¹ ë¥´ê³ ,
> "ì´ì „ì— ë¹Œë“œí•œ ê±°ë‘ ë­ê°€ ë°”ë€Œì—ˆì§€?" í™•ì¸í•´ì„œ ë°”ë€ ê²ƒë§Œ ë‹¤ì‹œ ë¹Œë“œí•´ì£¼ê±°ë“ ìš”.

| ë¹„êµ          | Maven           | Gradle                         |
|-------------|-----------------|--------------------------------|
| **ì„¤ì • íŒŒì¼**   | `pom.xml` (XML) | `build.gradle` (Groovy/Kotlin) |
| **ë¹Œë“œ ì†ë„**   | ëŠë¦¼              | ë¹ ë¦„ (ì¦ë¶„ ë¹Œë“œ, ìºì‹±)                 |
| **ìœ ì—°ì„±**     | ì œí•œì              | ë§¤ìš° ìœ ì—°                          |
| **í•™ìŠµ ê³¡ì„ **   | ë‚®ìŒ              | ì¤‘ê°„                             |
| **í”ŒëŸ¬ê·¸ì¸ ê°œë°œ** | ë³µì¡              | ìƒëŒ€ì ìœ¼ë¡œ ì‰¬ì›€                       |
| **ë©€í‹° ëª¨ë“ˆ**   | ì§€ì›              | ë” ê°•ë ¥í•œ ì§€ì›                       |

### 1.3 ë¹Œë“œ ë„êµ¬ê°€ ì—†ë‹¤ë©´?

> **ìˆœìˆ˜ Javaë¡œ ë¹Œë“œí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?**
>
> Gradleì´ë‚˜ Maven ê°™ì€ ë¹Œë“œ ë„êµ¬ ì—†ì´ `javac`, `java` ëª…ë ¹ì–´ë§Œìœ¼ë¡œ ë¹Œë“œí•˜ë©´... **ì§€ì˜¥**ì´ì—ìš” ğŸ”¥

#### ìˆœìˆ˜ Javaë¡œ ë¹Œë“œí•˜ê¸°

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 1. ì˜ì¡´ì„± ì§ì ‘ ë‹¤ìš´ë¡œë“œ (Maven Centralì—ì„œ í•˜ë‚˜í•˜ë‚˜...)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
mkdir -p libs
curl -o libs/guava-32.0.0-jre.jar https://repo1.maven.org/.../guava-32.0.0-jre.jar

# ğŸ˜± ì „ì´ ì˜ì¡´ì„±ë„ ì§ì ‘ ë‹¤ìš´ë¡œë“œí•´ì•¼ í•¨!
curl -o libs/failureaccess-1.0.1.jar https://repo1.maven.org/.../failureaccess-1.0.1.jar
curl -o libs/checker-qual-3.33.0.jar https://repo1.maven.org/.../checker-qual-3.33.0.jar
# ... guava í•˜ë‚˜ ì“°ë ¤ë©´ ì˜ì¡´ì„±ì´ 10ê°œ ë„˜ìŒ...

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 2. ì»´íŒŒì¼ (classpath ì§ì ‘ ë‚˜ì—´)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
mkdir -p build/classes

# ëª¨ë“  JARë¥¼ classpathì— ì§ì ‘ ë‚˜ì—´í•´ì•¼ í•¨
javac -d build/classes \
  -cp "libs/guava-32.0.0-jre.jar:libs/failureaccess-1.0.1.jar:libs/checker-qual-3.33.0.jar" \
  src/main/java/com/example/*.java

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 3. ë¦¬ì†ŒìŠ¤ ë³µì‚¬ (ì§ì ‘!)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cp -r src/main/resources/* build/classes/

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 4. JAR ìƒì„± (MANIFEST.MF ì§ì ‘ ì‘ì„±)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo "Manifest-Version: 1.0" > build/MANIFEST.MF
echo "Main-Class: com.example.Main" >> build/MANIFEST.MF
echo "Class-Path: libs/guava-32.0.0-jre.jar libs/failureaccess-1.0.1.jar" >> build/MANIFEST.MF

jar cfm build/myapp.jar build/MANIFEST.MF -C build/classes .

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 5. í…ŒìŠ¤íŠ¸ ì»´íŒŒì¼ & ì‹¤í–‰ (JUnit ëŸ¬ë„ˆë„ ì§ì ‘ ì‹¤í–‰)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
javac -d build/test-classes -cp "build/classes:libs/*" src/test/java/com/example/*.java
java -cp "build/classes:build/test-classes:libs/*" org.junit.runner.JUnitCore com.example.MyTest
```

#### ê°€ì¥ í° ë¬¸ì œ: ì „ì´ ì˜ì¡´ì„±

```
Spring Boot Starter Web í•˜ë‚˜ë§Œ ì¨ë„...
    â”‚
    â”œâ”€ spring-boot-starter-web
    â”‚   â”œâ”€ spring-boot-starter
    â”‚   â”‚   â”œâ”€ spring-boot
    â”‚   â”‚   â”œâ”€ spring-boot-autoconfigure
    â”‚   â”‚   â”œâ”€ spring-core
    â”‚   â”‚   â””â”€ ... (10ê°œ+)
    â”‚   â”œâ”€ spring-webmvc
    â”‚   â”‚   â”œâ”€ spring-aop
    â”‚   â”‚   â”œâ”€ spring-beans
    â”‚   â”‚   â””â”€ ... (5ê°œ+)
    â”‚   â””â”€ spring-boot-starter-tomcat
    â”‚       â”œâ”€ tomcat-embed-core
    â”‚       â””â”€ ... (3ê°œ+)
    â”‚
    â””â”€ ì´ 50ê°œ+ JARë¥¼ ì§ì ‘ ë‹¤ìš´ë¡œë“œ? ğŸ¤¯
```

#### ë¹„êµ ìš”ì•½

| í•­ëª©            | ìˆœìˆ˜ Java           | Gradle (í”ŒëŸ¬ê·¸ì¸ ì—†ì´) | Gradle + Java í”ŒëŸ¬ê·¸ì¸ |
|---------------|-------------------|------------------|--------------------|
| **ì˜ì¡´ì„± ê´€ë¦¬**    | ì§ì ‘ ë‹¤ìš´ë¡œë“œ ğŸ˜±        | ìë™               | ìë™                 |
| **ì „ì´ ì˜ì¡´ì„±**    | ì§ì ‘ ì°¾ì•„ì„œ ë‹¤ìš´ ğŸ˜±ğŸ˜±    | ìë™ í•´ê²°            | ìë™ í•´ê²°              |
| **ì»´íŒŒì¼**       | javac ì§ì ‘ ì‹¤í–‰       | ì„¤ì • í•„ìš” (~50ì¤„)     | ìë™                 |
| **classpath** | ì§ì ‘ ë‚˜ì—´             | ì„¤ì • í•„ìš”            | ìë™                 |
| **JAR ìƒì„±**    | jar + MANIFEST ì§ì ‘ | ì„¤ì • í•„ìš” (~20ì¤„)     | ìë™                 |
| **í…ŒìŠ¤íŠ¸**       | ì§ì ‘ ì‹¤í–‰             | ì„¤ì • í•„ìš” (~15ì¤„)     | ìë™                 |
| **ë²„ì „ ì¶©ëŒ**     | ì§ì ‘ í•´ê²° ğŸ˜±ğŸ˜±ğŸ˜±      | ìë™ í•´ê²°            | ìë™ í•´ê²°              |
| **ì¦ë¶„ ë¹Œë“œ**     | ë¶ˆê°€ëŠ¥               | ì§€ì›               | ì§€ì›                 |

> **ë¹Œë“œ ë„êµ¬ì˜ ê°€ì¥ í° ê°€ì¹˜**
>
> ì‚¬ì‹¤ ë¹Œë“œ ë„êµ¬ì˜ í•µì‹¬ ê°€ì¹˜ëŠ” **ì˜ì¡´ì„± ê´€ë¦¬**ì˜ˆìš”!
> íŠ¹íˆ **ì „ì´ ì˜ì¡´ì„± ìë™ í•´ê²°**ê³¼ **ë²„ì „ ì¶©ëŒ í•´ê²°**ì´ ì—†ìœ¼ë©´
> í˜„ëŒ€ì ì¸ Java ê°œë°œì€ ê±°ì˜ ë¶ˆê°€ëŠ¥í•´ìš”.
>
> - ìˆœìˆ˜ Java = **ì§€ì˜¥** ğŸ”¥
> - Gradle (í”ŒëŸ¬ê·¸ì¸ ì—†ì´) = **í˜ë“¦** ğŸ˜“
> - Gradle + Java í”ŒëŸ¬ê·¸ì¸ = **ì²œêµ­** ğŸ˜‡

### 1.4 Gradle ë¹Œë“œ íŒŒì¼

> **build.gradle íŒŒì¼ì´ ë­ì˜ˆìš”?**
>
> í”„ë¡œì íŠ¸ì˜ "**ë¹Œë“œ ì„¤ëª…ì„œ**"ì˜ˆìš”.
> "ì´ í”„ë¡œì íŠ¸ëŠ” Java í”„ë¡œì íŠ¸ì•¼", "Spring ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•´", "ë²„ì „ì€ 1.0.0ì´ì•¼"
> ì´ëŸ° ì •ë³´ë¥¼ ì ì–´ë‘ëŠ” íŒŒì¼ì´ì—ìš”.
>
> ìš”ë¦¬ë¡œ ì¹˜ë©´ **ë ˆì‹œí”¼**ì™€ ê°™ì•„ìš”.
> "ì¬ë£Œ(dependencies)ëŠ” ë­ê°€ í•„ìš”í•˜ê³ , ì–´ë–¤ ìˆœì„œë¡œ ë§Œë“¤ì§€(tasks)" ì ì–´ë‘” ê±°ì£ .

```groovy
// build.gradle (Groovy DSL)
plugins {
    id 'java'
}

group = 'com.example'
version = '1.0.0'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework:spring-core:5.3.0'
    testImplementation 'junit:junit:4.13'
}

tasks.register('hello') {
    doLast {
        println 'Hello, Gradle!'
    }
}
```

```kotlin
// build.gradle.kts (Kotlin DSL)
plugins {
    java
}

group = "com.example"
version = "1.0.0"

repositories {
    mavenCentral()
}

dependencies {
    implementation("org.springframework:spring-core:5.3.0")
    testImplementation("junit:junit:4.13")
}

tasks.register("hello") {
    doLast {
        println("Hello, Gradle!")
    }
}
```

### 1.5 Gradle ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´

> **Gradleì€ ì–´ë–¤ ìˆœì„œë¡œ ë™ì‘í• ê¹Œìš”?**
>
> `gradle build`ë¥¼ ì‹¤í–‰í•˜ë©´ Gradleì€ **3ë‹¨ê³„**ë¡œ ë™ì‘í•´ìš”:
>
> 1. **ì´ˆê¸°í™”**: "ì–´ë–¤ í”„ë¡œì íŠ¸ë“¤ì´ ìˆì§€?" í™•ì¸ (settings.gradle ì½ê¸°)
> 2. **êµ¬ì„±**: "ë­˜ í•´ì•¼ í•˜ì§€?" íŒŒì•… (build.gradle ì½ê³  í•  ì¼ ëª©ë¡ ë§Œë“¤ê¸°)
> 3. **ì‹¤í–‰**: "ì, ì´ì œ í•˜ì!" ì‹¤ì œ ë¹Œë“œ ì‘ì—… ìˆ˜í–‰
>
> ë§ˆì¹˜ ìš”ë¦¬ì‚¬ê°€:
> 1. ëƒ‰ì¥ê³  ì—´ì–´ì„œ ì¬ë£Œ í™•ì¸í•˜ê³  (ì´ˆê¸°í™”)
> 2. ë ˆì‹œí”¼ ë³´ë©´ì„œ ìˆœì„œ ì •ë¦¬í•˜ê³  (êµ¬ì„±)
> 3. ì‹¤ì œë¡œ ìš”ë¦¬í•˜ëŠ” ê²ƒ (ì‹¤í–‰)
     > ê³¼ ê°™ì•„ìš”!

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Gradle ë¹Œë“œ ë¼ì´í”„ì‚¬ì´í´                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. ì´ˆê¸°í™” (Initialization)                                  â”‚
â”‚     â””â”€ settings.gradle ì½ê¸°                                  â”‚
â”‚     â””â”€ ì–´ë–¤ í”„ë¡œì íŠ¸ê°€ ë¹Œë“œì— í¬í•¨ë˜ëŠ”ì§€ ê²°ì •                   â”‚
â”‚                                                              â”‚
â”‚  2. êµ¬ì„± (Configuration)                                     â”‚
â”‚     â””â”€ build.gradle ì‹¤í–‰                                     â”‚
â”‚     â””â”€ Task ê·¸ë˜í”„ ìƒì„±                                       â”‚
â”‚     â””â”€ í”ŒëŸ¬ê·¸ì¸ ì ìš©, ì˜ì¡´ì„± í•´ì„                              â”‚
â”‚                                                              â”‚
â”‚  3. ì‹¤í–‰ (Execution)                                         â”‚
â”‚     â””â”€ ì„ íƒëœ Task ì‹¤í–‰                                       â”‚
â”‚     â””â”€ ì˜ì¡´ì„± ìˆœì„œëŒ€ë¡œ ì‹¤í–‰                                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

$ gradle build
    â”‚
    â–¼
[ì´ˆê¸°í™”] settings.gradle ì½ê¸°
    â”‚
    â–¼
[êµ¬ì„±] build.gradle ì‹¤í–‰, Task ê·¸ë˜í”„ ìƒì„±
    â”‚
    â–¼
[ì‹¤í–‰] compileJava â†’ processResources â†’ classes â†’ jar â†’ build
```

---

## 2. Gradle í”ŒëŸ¬ê·¸ì¸ì´ë€?

> **í•œ ì¤„ ìš”ì•½**: í”ŒëŸ¬ê·¸ì¸ = **ê¸°ëŠ¥ í™•ì¥íŒ©**
>
> ê²Œì„ì—ì„œ DLC(ë‹¤ìš´ë¡œë“œ ì½˜í…ì¸ ) ê¹”ë©´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ìƒê¸°ì–ì•„ìš”?
> Gradle í”ŒëŸ¬ê·¸ì¸ë„ ë˜‘ê°™ì•„ìš”. ì„¤ì¹˜í•˜ë©´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë¼ìš”!

### 2.1 í”ŒëŸ¬ê·¸ì¸ì˜ ì—­í• 

**í”ŒëŸ¬ê·¸ì¸** = ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¹Œë“œ ë¡œì§ì„ íŒ¨í‚¤ì§•í•œ ê²ƒ

> **ì™œ í”ŒëŸ¬ê·¸ì¸ì´ í•„ìš”í• ê¹Œìš”?**
>
> ì˜ˆë¥¼ ë“¤ì–´, Java í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ë ¤ë©´:
> - ì†ŒìŠ¤ ì½”ë“œ ì»´íŒŒì¼í•˜ê³ 
> - í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ê³ 
> - JAR íŒŒì¼ ë§Œë“¤ê³ ...
>
> ì´ê±¸ ë§¤ë²ˆ ì§ì ‘ ì„¤ì •í•˜ë©´ ì—„ì²­ ê·€ì°®ê² ì£ ?
>
> `plugins { id 'java' }` í•œ ì¤„ë§Œ ì“°ë©´,
> ëˆ„êµ°ê°€ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘” "Java ë¹Œë“œ ê¸°ëŠ¥"ì´ **ë¿…!** í•˜ê³  ì¶”ê°€ë¼ìš”.
>
> ë§ˆì¹˜ ìŠ¤ë§ˆíŠ¸í°ì— ì•± ì„¤ì¹˜í•˜ë“¯ì´,
> Gradleì— í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ë©´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì“¸ ìˆ˜ ìˆëŠ” ê±°ì˜ˆìš”.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í”ŒëŸ¬ê·¸ì¸ì´ í•˜ëŠ” ì¼                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Task ì¶”ê°€                                                â”‚
â”‚     â””â”€ compileJava, test, jar ë“±                            â”‚
â”‚                                                              â”‚
â”‚  2. ì„¤ì •(Convention) ì¶”ê°€                                    â”‚
â”‚     â””â”€ sourceCompatibility, targetCompatibility ë“±          â”‚
â”‚                                                              â”‚
â”‚  3. Extension ì¶”ê°€ (DSL)                                     â”‚
â”‚     â””â”€ java { }, application { } ë“±                         â”‚
â”‚                                                              â”‚
â”‚  4. ë‹¤ë¥¸ í”ŒëŸ¬ê·¸ì¸ ì ìš©                                        â”‚
â”‚     â””â”€ java í”ŒëŸ¬ê·¸ì¸ì€ base í”ŒëŸ¬ê·¸ì¸ì„ ìë™ ì ìš©               â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### IntelliJ Gradle ì°½ì—ì„œ í™•ì¸í•˜ê¸°

> **IntelliJì˜ Gradle ì°½ì— ë³´ì´ëŠ” Taskë“¤ì€ ì „ë¶€ í”ŒëŸ¬ê·¸ì¸ì´ ë“±ë¡í•œ ê²ƒ!**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            IntelliJ Gradle ì°½ì— ë³´ì´ëŠ” Taskë“¤                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Tasks                                                       â”‚
â”‚  â”œâ”€â”€ application          â† application í”ŒëŸ¬ê·¸ì¸            â”‚
â”‚  â”‚   â””â”€â”€ bootRun          â† spring-boot í”ŒëŸ¬ê·¸ì¸            â”‚
â”‚  â”‚                                                           â”‚
â”‚  â”œâ”€â”€ build                â† java (base) í”ŒëŸ¬ê·¸ì¸            â”‚
â”‚  â”‚   â”œâ”€â”€ assemble                                           â”‚
â”‚  â”‚   â”œâ”€â”€ bootBuildImage   â† spring-boot í”ŒëŸ¬ê·¸ì¸            â”‚
â”‚  â”‚   â”œâ”€â”€ bootJar          â† spring-boot í”ŒëŸ¬ê·¸ì¸            â”‚
â”‚  â”‚   â”œâ”€â”€ build                                              â”‚
â”‚  â”‚   â”œâ”€â”€ classes          â† java í”ŒëŸ¬ê·¸ì¸                   â”‚
â”‚  â”‚   â”œâ”€â”€ clean            â† base í”ŒëŸ¬ê·¸ì¸                   â”‚
â”‚  â”‚   â”œâ”€â”€ jar              â† java í”ŒëŸ¬ê·¸ì¸                   â”‚
â”‚  â”‚   â””â”€â”€ testClasses      â† java í”ŒëŸ¬ê·¸ì¸                   â”‚
â”‚  â”‚                                                           â”‚
â”‚  â”œâ”€â”€ publishing           â† maven-publish í”ŒëŸ¬ê·¸ì¸          â”‚
â”‚  â”œâ”€â”€ verification         â† java í”ŒëŸ¬ê·¸ì¸ (test ë“±)         â”‚
â”‚  â””â”€â”€ other                                                  â”‚
â”‚      â”œâ”€â”€ GetTargets       â† app-builder í”ŒëŸ¬ê·¸ì¸            â”‚
â”‚      â””â”€â”€ AppBuilder       â† app-builder í”ŒëŸ¬ê·¸ì¸            â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### í”ŒëŸ¬ê·¸ì¸ë³„ ë“±ë¡ Task

| í”ŒëŸ¬ê·¸ì¸            | ë“±ë¡í•˜ëŠ” Task                                    |
|-----------------|----------------------------------------------|
| `base`          | clean, assemble, build, check                |
| `java`          | compileJava, classes, jar, test, testClasses |
| `application`   | run, startScripts, installDist               |
| `spring-boot`   | bootRun, bootJar, bootBuildImage             |
| `kotlin`        | compileKotlin, buildKotlinToolingMetadata    |
| `maven-publish` | publish, publishToMavenLocal                 |
| `app-builder`   | GetTargets, AppBuilder                       |

```bash
# í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  Task í™•ì¸
$ gradle tasks --all

# íŠ¹ì • Taskê°€ ì–´ë””ì„œ ì™”ëŠ”ì§€ í™•ì¸
$ gradle help --task bootJar
```

> **ê²°ë¡ **: í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€í•˜ë©´ Taskê°€ ëŠ˜ì–´ë‚˜ê³ , ì œê±°í•˜ë©´ Taskê°€ ì‚¬ë¼ì ¸ìš”!
> `plugins { }` ë¸”ë¡ì´ ë¹„ì–´ìˆìœ¼ë©´ Taskë„ ê±°ì˜ ì—†ì–´ìš”.

### 2.2 Java í”ŒëŸ¬ê·¸ì¸ ìƒì„¸

> **`plugins { id 'java' }` í•œ ì¤„ì´ë©´ ë­ê°€ ìƒê¸¸ê¹Œìš”?**
>
> Java í”ŒëŸ¬ê·¸ì¸ì€ ê°€ì¥ ê¸°ë³¸ì ì¸ Core í”ŒëŸ¬ê·¸ì¸ì´ì—ìš”.
> ì´ í•œ ì¤„ë§Œ ì¶”ê°€í•˜ë©´ Java í”„ë¡œì íŠ¸ ë¹Œë“œì— í•„ìš”í•œ **ëª¨ë“  ê²ƒ**ì´ ìë™ìœ¼ë¡œ ì„¤ì •ë¼ìš”!

#### ì†ŒìŠ¤ì…‹(Source Sets) ì •ì˜

Java í”ŒëŸ¬ê·¸ì¸ì€ í‘œì¤€ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ìë™ìœ¼ë¡œ ì¸ì‹í•´ìš”:

```
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/        # í”„ë¡œë•ì…˜ ì†ŒìŠ¤ ì½”ë“œ
â”‚   â””â”€â”€ resources/   # í”„ë¡œë•ì…˜ ë¦¬ì†ŒìŠ¤
â””â”€â”€ test/
    â”œâ”€â”€ java/        # í…ŒìŠ¤íŠ¸ ì†ŒìŠ¤ ì½”ë“œ
    â””â”€â”€ resources/   # í…ŒìŠ¤íŠ¸ ë¦¬ì†ŒìŠ¤
```

#### íƒœìŠ¤í¬(Tasks) ì¶”ê°€

| íƒœìŠ¤í¬                | ì„¤ëª…           |
|--------------------|--------------|
| `compileJava`      | Java ì†ŒìŠ¤ ì»´íŒŒì¼  |
| `processResources` | ë¦¬ì†ŒìŠ¤ íŒŒì¼ ë³µì‚¬    |
| `classes`          | ì»´íŒŒì¼ + ë¦¬ì†ŒìŠ¤ ì²˜ë¦¬ |
| `compileTestJava`  | í…ŒìŠ¤íŠ¸ ì†ŒìŠ¤ ì»´íŒŒì¼   |
| `test`             | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰    |
| `jar`              | JAR íŒŒì¼ ìƒì„±    |
| `clean`            | ë¹Œë“œ ë””ë ‰í† ë¦¬ ì‚­ì œ   |
| `build`            | ì „ì²´ ë¹Œë“œ ìˆ˜í–‰     |

#### ì˜ì¡´ì„± êµ¬ì„±(Configurations)

| êµ¬ì„±                   | ì„¤ëª…                      |
|----------------------|-------------------------|
| `implementation`     | ì»´íŒŒì¼ ë° ëŸ°íƒ€ì„ ì˜ì¡´ì„±           |
| `compileOnly`        | ì»´íŒŒì¼ ì‹œì—ë§Œ í•„ìš” (ì˜ˆ: Lombok)  |
| `runtimeOnly`        | ëŸ°íƒ€ì„ì—ë§Œ í•„ìš” (ì˜ˆ: JDBC ë“œë¼ì´ë²„) |
| `testImplementation` | í…ŒìŠ¤íŠ¸ìš© ì˜ì¡´ì„±                |
| `testRuntimeOnly`    | í…ŒìŠ¤íŠ¸ ëŸ°íƒ€ì„ì—ë§Œ í•„ìš”            |

#### ë¹Œë“œ ì¶œë ¥ êµ¬ì¡°

```
build/
â”œâ”€â”€ classes/java/main/    # ì»´íŒŒì¼ëœ í´ë˜ìŠ¤
â”œâ”€â”€ resources/main/       # ì²˜ë¦¬ëœ ë¦¬ì†ŒìŠ¤
â”œâ”€â”€ libs/                 # ìƒì„±ëœ JAR
â””â”€â”€ reports/tests/        # í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸
```

#### í”ŒëŸ¬ê·¸ì¸ ìˆì„ ë•Œ vs ì—†ì„ ë•Œ ë¹„êµ

> **ì§ì ‘ ë¹„êµí•´ë³´ë©´ í”ŒëŸ¬ê·¸ì¸ì˜ ê°€ì¹˜ë¥¼ í™•ì‹¤íˆ ì•Œ ìˆ˜ ìˆì–´ìš”!**

**With `plugins { id 'java' }` (ì•½ 10ì¤„)**

```groovy
plugins {
    id 'java'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'com.google.guava:guava:32.0.0-jre'
    testImplementation 'junit:junit:4.13.2'
}
```

**ë!** `gradle build` í•˜ë©´ ì»´íŒŒì¼, í…ŒìŠ¤íŠ¸, JAR ìƒì„± ë‹¤ ë¨.

**Without Java í”ŒëŸ¬ê·¸ì¸ (ì•½ 100ì¤„+)**

```groovy
// í”ŒëŸ¬ê·¸ì¸ ì—†ì´ ì‹œì‘
plugins {
    id 'base'  // ìµœì†Œí•œì˜ ê¸°ë°˜ í”ŒëŸ¬ê·¸ì¸ë§Œ
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. ì˜ì¡´ì„± êµ¬ì„±(Configurations) ì§ì ‘ ìƒì„±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
configurations {
    implementation
    compileOnly
    runtimeOnly
    testImplementation
    testCompileOnly
    testRuntimeOnly

    // ìƒì† ê´€ê³„ ì„¤ì •
    testImplementation.extendsFrom(implementation)
    testRuntimeOnly.extendsFrom(runtimeOnly)
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'com.google.guava:guava:32.0.0-jre'
    testImplementation 'junit:junit:4.13.2'
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ ì§ì ‘ ì •ì˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
def mainJava = file('src/main/java')
def mainResources = file('src/main/resources')
def testJava = file('src/test/java')
def testResources = file('src/test/resources')

def classesDir = file("${buildDir}/classes/java/main")
def testClassesDir = file("${buildDir}/classes/java/test")
def resourcesDir = file("${buildDir}/resources/main")
def testResourcesDir = file("${buildDir}/resources/test")

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. ì»´íŒŒì¼ íƒœìŠ¤í¬ ì§ì ‘ ì •ì˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
tasks.register('compileJava', JavaCompile) {
    source = fileTree(mainJava)
    destinationDirectory = classesDir
    classpath = configurations.implementation
    sourceCompatibility = '17'
    targetCompatibility = '17'
}

tasks.register('compileTestJava', JavaCompile) {
    source = fileTree(testJava)
    destinationDirectory = testClassesDir
    classpath = configurations.testImplementation + files(classesDir)
    sourceCompatibility = '17'
    targetCompatibility = '17'

    dependsOn 'compileJava'
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. ë¦¬ì†ŒìŠ¤ ë³µì‚¬ íƒœìŠ¤í¬ ì§ì ‘ ì •ì˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
tasks.register('processResources', Copy) {
    from mainResources
    into resourcesDir
}

tasks.register('processTestResources', Copy) {
    from testResources
    into testResourcesDir
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 5. classes íƒœìŠ¤í¬ (ì»´íŒŒì¼ + ë¦¬ì†ŒìŠ¤)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
tasks.register('classes') {
    dependsOn 'compileJava', 'processResources'
}

tasks.register('testClasses') {
    dependsOn 'compileTestJava', 'processTestResources'
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 6. JAR íƒœìŠ¤í¬ ì§ì ‘ ì •ì˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
tasks.register('jar', Jar) {
    from classesDir
    from resourcesDir

    archiveBaseName = project.name
    archiveVersion = project.version
    destinationDirectory = file("${buildDir}/libs")

    manifest {
        attributes(
                'Implementation-Title': project.name,
                'Implementation-Version': project.version
        )
    }

    dependsOn 'classes'
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 7. í…ŒìŠ¤íŠ¸ íƒœìŠ¤í¬ ì§ì ‘ ì •ì˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
tasks.register('test', Test) {
    testClassesDirs = files(testClassesDir)
    classpath = configurations.testRuntimeOnly +
            files(classesDir, testClassesDir, resourcesDir, testResourcesDir)

    useJUnit()  // ë˜ëŠ” useJUnitPlatform()

    reports {
        html.required = true
        html.outputLocation = file("${buildDir}/reports/tests")
    }

    dependsOn 'testClasses'
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 8. build íƒœìŠ¤í¬ ì—°ê²°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
tasks.register('build') {
    dependsOn 'jar', 'test'
}
```

**ë¹„êµ ìš”ì•½**

| í•­ëª©                 | With í”ŒëŸ¬ê·¸ì¸ | Without í”ŒëŸ¬ê·¸ì¸ |
|--------------------|-----------|--------------|
| **ì½”ë“œëŸ‰**            | ~10ì¤„      | ~100ì¤„+       |
| **ì†ŒìŠ¤ì…‹**            | ìë™ ì¸ì‹     | ì§ì ‘ ì •ì˜        |
| **Configurations** | ìë™ ìƒì„±     | ì§ì ‘ ìƒì„±        |
| **íƒœìŠ¤í¬**            | ìë™ ë“±ë¡     | ì§ì ‘ ë“±ë¡        |
| **íƒœìŠ¤í¬ ì˜ì¡´ì„±**        | ìë™ ì—°ê²°     | ì§ì ‘ ì—°ê²°        |
| **ì¦ë¶„ ë¹Œë“œ**          | ìµœì í™”ë¨      | ì§ì ‘ êµ¬í˜„ í•„ìš”     |
| **ì—ëŸ¬ ì²˜ë¦¬**          | ì˜ ë˜ì–´ìˆìŒ    | ì§ì ‘ êµ¬í˜„ í•„ìš”     |

> **í•œ ì¤„ ìš”ì•½**
>
> `plugins { id 'java' }` í•œ ì¤„ì´ **100ì¤„ ì´ìƒì˜ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸**ë¥¼ ëŒ€ì‹ í•´ì¤˜ìš”!
> ì‹¤ì œ Java í”ŒëŸ¬ê·¸ì¸ì€ ì¦ë¶„ ë¹Œë“œ ìµœì í™”, ìºì‹±, ì—ëŸ¬ ì²˜ë¦¬ ë“± í›¨ì”¬ ë” ë§ì€ ê¸°ëŠ¥ì´ ìˆì–´ì„œ
> ì§ì ‘ êµ¬í˜„í•˜ë ¤ë©´ ìˆ˜ë°± ì¤„ì´ ë  ìˆ˜ë„ ìˆì–´ìš”.

### 2.3 Spring Boot í”ŒëŸ¬ê·¸ì¸ ìƒì„¸

> **`plugins { id 'org.springframework.boot' }` í•˜ë©´ ë­ê°€ ë‹¬ë¼ì§ˆê¹Œìš”?**
>
> Java í”ŒëŸ¬ê·¸ì¸ì´ "Java í”„ë¡œì íŠ¸ ë¹Œë“œ"ë¥¼ ë„ì™€ì¤€ë‹¤ë©´,
> Spring Boot í”ŒëŸ¬ê·¸ì¸ì€ "**ì‹¤í–‰ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒ¨í‚¤ì§•**"ì„ ë„ì™€ì¤˜ìš”!

#### ì‹¤í–‰ ê°€ëŠ¥í•œ Fat JAR ìƒì„±

```
ì¼ë°˜ JAR (java í”ŒëŸ¬ê·¸ì¸):
â”œâ”€â”€ com/example/MyApp.class     # ë‚´ ì½”ë“œë§Œ ìˆìŒ
â””â”€â”€ META-INF/

Fat JAR (Spring Boot í”ŒëŸ¬ê·¸ì¸):
â”œâ”€â”€ BOOT-INF/
â”‚   â”œâ”€â”€ classes/                # ë‚´ ì½”ë“œ
â”‚   â””â”€â”€ lib/                    # ëª¨ë“  ì˜ì¡´ì„± JAR í¬í•¨!
â”‚       â”œâ”€â”€ spring-core-6.x.jar
â”‚       â”œâ”€â”€ spring-web-6.x.jar
â”‚       â””â”€â”€ ...
â”œâ”€â”€ org/springframework/boot/loader/  # Spring Boot ë¡œë”
â””â”€â”€ META-INF/MANIFEST.MF
```

> Fat JAR ë•ë¶„ì— `java -jar myapp.jar` í•œ ë²ˆì— ì‹¤í–‰ ê°€ëŠ¥!

#### íƒœìŠ¤í¬(Tasks) ì¶”ê°€

| íƒœìŠ¤í¬              | ì„¤ëª…                         |
|------------------|----------------------------|
| `bootJar`        | ì‹¤í–‰ ê°€ëŠ¥í•œ Fat JAR ìƒì„±          |
| `bootWar`        | ì‹¤í–‰ ê°€ëŠ¥í•œ WAR ìƒì„±              |
| `bootRun`        | ì• í”Œë¦¬ì¼€ì´ì…˜ ë°”ë¡œ ì‹¤í–‰               |
| `bootBuildImage` | Docker ì´ë¯¸ì§€ ìƒì„± (Buildpacks) |

#### ì˜ì¡´ì„± ë²„ì „ ìë™ ê´€ë¦¬

```groovy
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.2.0'
    id 'io.spring.dependency-management' version '1.1.4'  // ë³´í†µ ê°™ì´ ì‚¬ìš©
}

dependencies {
    // ë²„ì „ ì•ˆ ì¨ë„ ë¨! Spring Bootê°€ í˜¸í™˜ë˜ëŠ” ë²„ì „ ìë™ ì„¤ì •
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
```

#### ê¸°ì¡´ jar íƒœìŠ¤í¬ì™€ì˜ ê´€ê³„

```groovy
// Spring Boot í”ŒëŸ¬ê·¸ì¸ ì ìš©í•˜ë©´:
tasks.named('jar') {
    enabled = false  // ì¼ë°˜ jarëŠ” ë¹„í™œì„±í™”
}

tasks.named('bootJar') {
    enabled = true   // bootJarê°€ ëŒ€ì‹  ì‹¤í–‰ë¨
}
```

#### ë¹Œë“œ ì •ë³´ ìƒì„±

```groovy
springBoot {
    buildInfo()  // build-info.properties ìƒì„±
}

// ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
@Autowired
BuildProperties buildProperties;  // ë²„ì „, ë¹Œë“œ ì‹œê°„ ë“±
```

#### Java í”ŒëŸ¬ê·¸ì¸ê³¼ì˜ ë¹„êµ

| í•­ëª©     | `java` í”ŒëŸ¬ê·¸ì¸     | `spring-boot` í”ŒëŸ¬ê·¸ì¸  |
|--------|-----------------|---------------------|
| JAR ìƒì„± | ì¼ë°˜ JAR (í´ë˜ìŠ¤ë§Œ)   | Fat JAR (ì˜ì¡´ì„± í¬í•¨)    |
| ì‹¤í–‰ ë°©ì‹  | classpath ì„¤ì • í•„ìš” | `java -jar` ë°”ë¡œ ì‹¤í–‰   |
| ì˜ì¡´ì„± ë²„ì „ | ì§ì ‘ ëª…ì‹œ           | BOMìœ¼ë¡œ ìë™ ê´€ë¦¬         |
| ê°œë°œ ì‹¤í–‰  | ì§ì ‘ ì„¤ì •           | `bootRun` ì œê³µ        |
| Docker | ì§ì ‘ ì„¤ì •           | `bootBuildImage` ì œê³µ |

### 2.4 í”ŒëŸ¬ê·¸ì¸ ì¢…ë¥˜

> **í”ŒëŸ¬ê·¸ì¸ë„ ì¢…ë¥˜ê°€ ìˆì–´ìš”**
>
> 1. **Core í”ŒëŸ¬ê·¸ì¸**: Gradleì— ê¸°ë³¸ìœ¼ë¡œ ë“¤ì–´ìˆëŠ” ê²ƒ (ë¬´ë£Œ ê¸°ë³¸ ì•± ê°™ì€ ê±°)
> 2. **Community í”ŒëŸ¬ê·¸ì¸**: ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë§Œë“¤ì–´ì„œ ê³µìœ í•œ ê²ƒ (ì•±ìŠ¤í† ì–´ ì•±)
> 3. **Custom í”ŒëŸ¬ê·¸ì¸**: ìš°ë¦¬ê°€ ì§ì ‘ ë§Œë“œëŠ” ê²ƒ (ì§ì ‘ ê°œë°œí•œ ì•±)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      í”ŒëŸ¬ê·¸ì¸ ì¢…ë¥˜                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Core í”ŒëŸ¬ê·¸ì¸ (Gradle ë‚´ì¥)                              â”‚
â”‚     â””â”€ java, application, war, groovy ë“±                    â”‚
â”‚     â””â”€ plugins { id 'java' }                                â”‚
â”‚                                                              â”‚
â”‚  2. Community í”ŒëŸ¬ê·¸ì¸ (Gradle Plugin Portal)               â”‚
â”‚     â””â”€ org.springframework.boot, com.github.node-gradle ë“±  â”‚
â”‚     â””â”€ plugins { id 'org.springframework.boot' version '3.0'}â”‚
â”‚                                                              â”‚
â”‚  3. Custom í”ŒëŸ¬ê·¸ì¸ (ì§ì ‘ ê°œë°œ)                               â”‚
â”‚     â””â”€ íšŒì‚¬/í”„ë¡œì íŠ¸ ë§ì¶¤í˜• ë¹Œë“œ ë¡œì§                          â”‚
â”‚     â””â”€ plugins { id 'com.example.app-builder' version '1.0'} â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3ê°€ì§€ í”ŒëŸ¬ê·¸ì¸ ë¹„êµ

| êµ¬ë¶„        | Core                                              | Community                                                       | Custom        |
|-----------|---------------------------------------------------|-----------------------------------------------------------------|---------------|
| **ì˜ˆì‹œ**    | `java`                                            | `org.springframework.boot`                                      | `app-builder` |
| **ë§Œë“  ê³³**  | Gradle íŒ€                                          | Spring íŒ€ (VMware)                                               | ìš°ë¦¬ íšŒì‚¬         |
| **ë°°í¬ ìœ„ì¹˜** | Gradle ë‚´ì¥                                         | Gradle Plugin Portal                                            | ì‚¬ì„¤ Nexus      |
| **ë²„ì „ ëª…ì‹œ** | ë¶ˆí•„ìš”                                               | í•„ìš”                                                              | í•„ìš”            |
| **ì†ŒìŠ¤ ì½”ë“œ** | [Gradle GitHub](https://github.com/gradle/gradle) | [Spring GitHub](https://github.com/spring-projects/spring-boot) | ì‚¬ë‚´ ì €ì¥ì†Œ        |

#### ê²°êµ­ ê°™ì€ êµ¬ì¡°!

> **í•µì‹¬ í¬ì¸íŠ¸**
>
> Coreë“ , Communityë“ , Customì´ë“  **ì „ë¶€ ê°™ì€ Gradle í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ**ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ìš”!
>
> ì¦‰, `plugins { id 'java' }`ë‚˜ `plugins { id 'org.springframework.boot' }`ë‚˜
> ìš°ë¦¬ê°€ ë§Œë“  `plugins { id 'app-builder' }`ë‚˜ **ë‚´ë¶€ êµ¬ì¡°ëŠ” ë™ì¼**í•´ìš”.

```kotlin
// 1. Core: Java í”ŒëŸ¬ê·¸ì¸ (Gradle íŒ€ì´ ë§Œë“¦)
class JavaPlugin : Plugin<Project> {
    override fun apply(project: Project) {
        // Extension ë“±ë¡ â†’ java { sourceCompatibility = 17 }
        // Task ë“±ë¡ â†’ compileJava, jar, test ë“±
    }
}

// 2. Community: Spring Boot í”ŒëŸ¬ê·¸ì¸ (Spring íŒ€ì´ ë§Œë“¦)
class SpringBootPlugin : Plugin<Project> {
    override fun apply(project: Project) {
        // Extension ë“±ë¡ â†’ springBoot { buildInfo() }
        // Task ë“±ë¡ â†’ bootJar, bootRun ë“±
    }
}

// 3. Custom: App Builder í”ŒëŸ¬ê·¸ì¸ (ìš°ë¦¬ê°€ ë§Œë“¦)
class AppBuilderPlugin : Plugin<Project> {
    override fun apply(project: Project) {
        // Extension ë“±ë¡ â†’ appBuilder { ecrRegistry = '...' }
        // Task ë“±ë¡ â†’ GetTargets, AppBuilder ë“±
    }
}
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì „ë¶€ ê°™ì€ Plugin<Project> êµ¬í˜„!                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  plugins { id 'java' }                                      â”‚
â”‚  plugins { id 'org.springframework.boot' version '3.2.0' }  â”‚
â”‚  plugins { id 'app-builder' version '1.0.0' }               â”‚
â”‚       â”‚           â”‚               â”‚                          â”‚
â”‚       â–¼           â–¼               â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           Plugin<Project>.apply(project)            â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  1. Extension ë“±ë¡ (DSL ì„¤ì • ë¸”ë¡)                   â”‚    â”‚
â”‚  â”‚  2. Task ë“±ë¡ (ì‹¤í–‰í•  ì‘ì—…)                          â”‚    â”‚
â”‚  â”‚  3. Convention ì„¤ì • (ê¸°ë³¸ê°’)                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **ê²°ë¡ **: í”ŒëŸ¬ê·¸ì¸ ê°œë°œì„ ë°°ìš°ë©´ Gradle ìƒíƒœê³„ì˜ **ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ì´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€** ì´í•´í•  ìˆ˜ ìˆì–´ìš”!

### 2.5 í”ŒëŸ¬ê·¸ì¸ ì ìš© ë°©ë²•

```groovy
// 1. Core í”ŒëŸ¬ê·¸ì¸
plugins {
    id 'java'
}

// 2. Community í”ŒëŸ¬ê·¸ì¸ (ë²„ì „ í•„ìš”)
plugins {
    id 'org.springframework.boot' version '3.0.0'
}

// 3. Custom í”ŒëŸ¬ê·¸ì¸ (ë¡œì»¬ ë˜ëŠ” ì‚¬ì„¤ ì €ì¥ì†Œ)
plugins {
    id 'com.example.plugins.app-builder-gradle-plugin' version '1.0.0'
}

// ì €ì¥ì†Œ ì„¤ì • (settings.gradle.kts)
pluginManagement {
    repositories {
        gradlePluginPortal()
        maven { url = uri("https://nexus.company.com/repository/maven-public/") }
    }
}
```

---

## 3. í•µì‹¬ ê°œë…

> **í”ŒëŸ¬ê·¸ì¸ ê°œë°œ ì „ì— ì•Œì•„ì•¼ í•  3ê°€ì§€**
>
> Gradle í”ŒëŸ¬ê·¸ì¸ì„ ë§Œë“¤ë ¤ë©´ 3ê°€ì§€ ê°œë…ë§Œ ì•Œë©´ ë¼ìš”:
>
> | ê°œë… | ì‰¬ìš´ ì„¤ëª… | ë¹„ìœ  |
> |------|----------|------|
> | **Project** | ë¹Œë“œ ëŒ€ìƒ | ìš”ë¦¬í•  **ì¬ë£Œ** |
> | **Task** | ì‹¤í–‰í•  ì‘ì—… | ìš”ë¦¬ **ë ˆì‹œí”¼ì˜ ê° ë‹¨ê³„** |
> | **Extension** | ì„¤ì •ê°’ | ìš”ë¦¬ **ì–‘ë… ì¡°ì ˆ** (ì†Œê¸ˆ ë§ì´/ì ê²Œ) |
>
> ì´ 3ê°€ì§€ë§Œ ì´í•´í•˜ë©´ í”ŒëŸ¬ê·¸ì¸ ê°œë°œì˜ 80%ëŠ” ëì´ì—ìš”!

### 3.1 Project

**Project** = ë¹Œë“œì˜ ê¸°ë³¸ ë‹¨ìœ„

> **Projectê°€ ë­ì˜ˆìš”?**
>
> ê°„ë‹¨í•´ìš”. **ë¹Œë“œí•  í”„ë¡œì íŠ¸ ê·¸ ìì²´**ì˜ˆìš”.
>
> `build.gradle` íŒŒì¼ì´ ìˆëŠ” í´ë” í•˜ë‚˜ê°€ Project í•˜ë‚˜ì˜ˆìš”.
> ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ë©´ ì—¬ëŸ¬ ê°œì˜ Projectê°€ ìˆëŠ” ê±°ê³ ìš”.
>
> í”ŒëŸ¬ê·¸ì¸ ì…ì¥ì—ì„œ ProjectëŠ” "ë‚´ê°€ ì‘ì—…í•  ëŒ€ìƒ"ì´ì—ìš”.
> "ì´ í”„ë¡œì íŠ¸ì— ì–´ë–¤ Taskë¥¼ ì¶”ê°€í• ê¹Œ?", "ì–´ë–¤ ì„¤ì •ì„ ì ìš©í• ê¹Œ?" í•˜ëŠ” ê±°ì£ .

```groovy
// build.gradleì—ì„œ ì•”ì‹œì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥
project.name        // í”„ë¡œì íŠ¸ ì´ë¦„
project.version     // ë²„ì „
project.group       // ê·¸ë£¹
project.buildDir    // ë¹Œë“œ ë””ë ‰í† ë¦¬
project.projectDir  // í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬
project.rootDir     // ë£¨íŠ¸ ë””ë ‰í† ë¦¬

// ë©€í‹° ëª¨ë“ˆì—ì„œ
project.parent      // ë¶€ëª¨ í”„ë¡œì íŠ¸
project.subprojects // ìì‹ í”„ë¡œì íŠ¸ë“¤
project.allprojects // ëª¨ë“  í”„ë¡œì íŠ¸
```

```kotlin
// í”ŒëŸ¬ê·¸ì¸ ì½”ë“œì—ì„œ (Kotlin)
class MyPlugin : Plugin<Project> {
    override fun apply(project: Project) {
        println("í”„ë¡œì íŠ¸ ì´ë¦„: ${project.name}")
        println("ë¹Œë“œ ë””ë ‰í† ë¦¬: ${project.buildDir}")
    }
}
```

### 3.2 Task

**Task** = ì‹¤í–‰ ê°€ëŠ¥í•œ ì‘ì—… ë‹¨ìœ„

> **Taskê°€ ë­ì˜ˆìš”?**
>
> `gradle build`í•˜ë©´ ì‹¤í–‰ë˜ëŠ” **í•˜ë‚˜í•˜ë‚˜ì˜ ì‘ì—…**ì´ì—ìš”.
>
> - `compileJava` â†’ Java ì½”ë“œ ì»´íŒŒì¼í•˜ëŠ” Task
> - `test` â†’ í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ëŠ” Task
> - `jar` â†’ JAR íŒŒì¼ ë§Œë“œëŠ” Task
>
> ë ˆì‹œí”¼ì—ì„œ "1. ì–‘íŒŒ ì°ê¸°", "2. ë³¶ê¸°", "3. ê°„ ë§ì¶”ê¸°" ê°™ì€ **ê° ë‹¨ê³„**ë¼ê³  ìƒê°í•˜ë©´ ë¼ìš”.
>
> Taskë¼ë¦¬ ìˆœì„œê°€ ìˆì–´ìš”. "ì»´íŒŒì¼ ëë‚˜ì•¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤" ì´ëŸ° ì‹ìœ¼ë¡œìš”.
> ì´ê±¸ **Task ì˜ì¡´ì„±**ì´ë¼ê³  í•´ìš”.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Task ê°œë…                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  $ gradle build                                              â”‚
â”‚       â”‚                                                      â”‚
â”‚       â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ compile â”‚ â†’ â”‚  test   â”‚ â†’ â”‚   jar   â”‚ â†’ â”‚  build  â”‚     â”‚
â”‚  â”‚  Java   â”‚    â”‚         â”‚    â”‚         â”‚    â”‚         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚              â”‚              â”‚              â”‚         â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                    Task ì˜ì¡´ì„± ì²´ì¸                           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```groovy
// Task ì •ì˜ (build.gradle)
tasks.register('hello') {
    group = 'custom'
    description = 'ì¸ì‚¬ ì¶œë ¥'

    doFirst {
        println 'Task ì‹œì‘!'
    }

    doLast {
        println 'Hello, World!'
    }
}

// Task ì˜ì¡´ì„±
tasks.register('goodbye') {
    dependsOn 'hello'

    doLast {
        println 'Goodbye!'
    }
}

// $ gradle goodbye
// ì¶œë ¥:
// Task ì‹œì‘!
// Hello, World!
// Goodbye!
```

### 3.3 Extension

**Extension** = í”ŒëŸ¬ê·¸ì¸ì˜ DSL ì„¤ì •

> **Extensionì´ ë­ì˜ˆìš”?**
>
> í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©ìê°€ **ì„¤ì •ì„ ë°”ê¿€ ìˆ˜ ìˆê²Œ** í•´ì£¼ëŠ” ê±°ì˜ˆìš”.
>
> ì˜ˆë¥¼ ë“¤ì–´ app-builder í”ŒëŸ¬ê·¸ì¸ì„ ì“¸ ë•Œ:
> ```groovy
> appBuilder {
>     ecrRegistry = 'xxx.dkr.ecr.ap-northeast-2.amazonaws.com'
> }
> ```
> ì´ë ‡ê²Œ ì„¤ì •í•˜ì–ì•„ìš”? ì´ `appBuilder { }` ë¸”ë¡ì´ Extensionì´ì—ìš”!
>
> ë¹„ìœ í•˜ìë©´:
> - **í”ŒëŸ¬ê·¸ì¸** = ì „ìë ˆì¸ì§€
> - **Extension** = ì „ìë ˆì¸ì§€ì˜ **ë²„íŠ¼ë“¤** (ì‹œê°„ ì„¤ì •, ì˜¨ë„ ì„¤ì •)
>
> Extension ë•ë¶„ì— ê°™ì€ í”ŒëŸ¬ê·¸ì¸ì´ë¼ë„ í”„ë¡œì íŠ¸ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”.

```groovy
// java í”ŒëŸ¬ê·¸ì¸ì´ ì œê³µí•˜ëŠ” Extension
java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

// application í”ŒëŸ¬ê·¸ì¸ì´ ì œê³µí•˜ëŠ” Extension
application {
    mainClass = 'com.example.Main'
}

// Custom Extension (app-builder-plugin)
appBuilder {
    ecrRegistry = 'xxx.dkr.ecr.region.amazonaws.com'
    helmValuesRepo = 'https://github.com/org/helm-values.git'
}
```

### 3.4 ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Gradle í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡°                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Plugin (í”ŒëŸ¬ê·¸ì¸)                                           â”‚
â”‚    â”‚                                                         â”‚
â”‚    â”œâ”€ Extension ë“±ë¡ (DSL ì„¤ì •)                              â”‚
â”‚    â”‚    â””â”€ appBuilder { ecrRegistry = '...' }               â”‚
â”‚    â”‚                                                         â”‚
â”‚    â”œâ”€ Task ë“±ë¡                                              â”‚
â”‚    â”‚    â””â”€ GetTargets, AppBuilder ë“±                        â”‚
â”‚    â”‚                                                         â”‚
â”‚    â””â”€ Convention ì„¤ì •                                        â”‚
â”‚         â””â”€ ê¸°ë³¸ê°’, ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ ë“±                           â”‚
â”‚                                                              â”‚
â”‚  build.gradleì—ì„œ ì‚¬ìš©:                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ plugins {                                           â”‚    â”‚
â”‚  â”‚     id 'com.example.plugins.app-builder' version '1.0' â”‚    â”‚
â”‚  â”‚ }                                                   â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚ appBuilder {        â† Extension ì‚¬ìš©               â”‚    â”‚
â”‚  â”‚     ecrRegistry = 'xxx'                            â”‚    â”‚
â”‚  â”‚ }                                                   â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚ $ gradle GetTargets  â† Task ì‹¤í–‰                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. í”ŒëŸ¬ê·¸ì¸ ê°œë°œ ê¸°ì´ˆ

> **ë“œë””ì–´ í”ŒëŸ¬ê·¸ì¸ì„ ë§Œë“¤ì–´ë³¼ ì°¨ë¡€!**
>
> ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ê±¸ ì •ë¦¬í•˜ë©´:
> 1. **í”ŒëŸ¬ê·¸ì¸** = ë¹Œë“œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” í™•ì¥íŒ©
> 2. **Project** = ì‘ì—… ëŒ€ìƒ
> 3. **Task** = ì‹¤í–‰í•  ì‘ì—…
> 4. **Extension** = ì„¤ì • ì˜µì…˜
>
> ì´ì œ ì´ê²ƒë“¤ì„ ì¡°í•©í•´ì„œ í”ŒëŸ¬ê·¸ì¸ì„ ë§Œë“¤ì–´ë³¼ ê±°ì˜ˆìš”.
>
> í”ŒëŸ¬ê·¸ì¸ì„ ë§Œë“œëŠ” ê±´ í¬ê²Œ 3ë‹¨ê³„ì˜ˆìš”:
> 1. Extension í´ë˜ìŠ¤ ë§Œë“¤ê¸° (ì„¤ì • ì˜µì…˜ ì •ì˜)
> 2. Task í´ë˜ìŠ¤ ë§Œë“¤ê¸° (ì‹¤ì œ í•  ì¼ ì •ì˜)
> 3. Plugin í´ë˜ìŠ¤ì—ì„œ 1, 2ë¥¼ ë“±ë¡í•˜ê¸°

### 4.1 í”„ë¡œì íŠ¸ êµ¬ì¡°

> **í”ŒëŸ¬ê·¸ì¸ í”„ë¡œì íŠ¸ëŠ” ì´ë ‡ê²Œ ìƒê²¼ì–´ìš”**
>
> ì¼ë°˜ Kotlin/Java í”„ë¡œì íŠ¸ë‘ ê±°ì˜ ê°™ì•„ìš”.
> ë‹¤ë§Œ `gradlePlugin { }` ì„¤ì •ìœ¼ë¡œ "ì´ê±´ í”ŒëŸ¬ê·¸ì¸ì´ì•¼"ë¼ê³  ì•Œë ¤ì¤˜ì•¼ í•´ìš”.

```
my-gradle-plugin/
â”œâ”€â”€ build.gradle.kts          # í”ŒëŸ¬ê·¸ì¸ ë¹Œë“œ ì„¤ì •
â”œâ”€â”€ settings.gradle.kts       # í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â””â”€â”€ kotlin/           # ë˜ëŠ” java/, groovy/
â”‚   â”‚       â””â”€â”€ com/example/
â”‚   â”‚           â”œâ”€â”€ MyPlugin.kt           # í”ŒëŸ¬ê·¸ì¸ ë©”ì¸ í´ë˜ìŠ¤
â”‚   â”‚           â”œâ”€â”€ MyExtension.kt        # Extension (DSL)
â”‚   â”‚           â””â”€â”€ tasks/
â”‚   â”‚               â””â”€â”€ MyTask.kt         # Task í´ë˜ìŠ¤
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ kotlin/
â”‚           â””â”€â”€ com/example/
â”‚               â””â”€â”€ MyPluginTest.kt
â””â”€â”€ gradle/
    â””â”€â”€ wrapper/
```

### 4.2 build.gradle.kts (í”ŒëŸ¬ê·¸ì¸ í”„ë¡œì íŠ¸)

> **í”ŒëŸ¬ê·¸ì¸ í”„ë¡œì íŠ¸ì˜ build.gradle.kts í•´ì„**
>
> ì•„ë˜ ì½”ë“œê°€ ì¢€ ê¸¸ì–´ ë³´ì´ì§€ë§Œ, í•µì‹¬ì€ ê°„ë‹¨í•´ìš”:
> - `kotlin-dsl`: "Kotlinìœ¼ë¡œ í”ŒëŸ¬ê·¸ì¸ ë§Œë“¤ ê±°ì•¼"
> - `gradlePlugin { }`: "í”ŒëŸ¬ê·¸ì¸ IDëŠ” ì´ê±°ê³ , ë©”ì¸ í´ë˜ìŠ¤ëŠ” ì´ê±°ì•¼"

```kotlin
plugins {
    `kotlin-dsl`        // Kotlinìœ¼ë¡œ í”ŒëŸ¬ê·¸ì¸ ê°œë°œ
    `maven-publish`     // ë°°í¬ìš©
}

group = "com.example"
version = "1.0.0"

repositories {
    mavenCentral()
    gradlePluginPortal()
}

dependencies {
    // Gradle API (ìë™ í¬í•¨)
    // implementation(gradleApi())

    // í…ŒìŠ¤íŠ¸
    testImplementation(gradleTestKit())
    testImplementation("org.junit.jupiter:junit-jupiter:5.9.0")
}

// í”ŒëŸ¬ê·¸ì¸ ì •ì˜
gradlePlugin {
    plugins {
        create("myPlugin") {
            id = "com.example.my-plugin"                    // í”ŒëŸ¬ê·¸ì¸ ID
            implementationClass = "com.example.MyPlugin"    // ë©”ì¸ í´ë˜ìŠ¤
            displayName = "My Custom Plugin"
            description = "ë‚´ ì»¤ìŠ¤í…€ í”ŒëŸ¬ê·¸ì¸ ì„¤ëª…"
        }
    }
}

// í…ŒìŠ¤íŠ¸ ì„¤ì •
tasks.test {
    useJUnitPlatform()
}
```

### 4.3 ê¸°ë³¸ í”ŒëŸ¬ê·¸ì¸ í´ë˜ìŠ¤

> **í”ŒëŸ¬ê·¸ì¸ì˜ í•µì‹¬! Plugin í´ë˜ìŠ¤**
>
> ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ì€ `Plugin<Project>` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ìš”.
> `apply()` ë©”ì„œë“œ í•˜ë‚˜ë§Œ êµ¬í˜„í•˜ë©´ ë!
>
> `apply()`ëŠ” **ì‚¬ìš©ìê°€ í”ŒëŸ¬ê·¸ì¸ì„ ì ìš©í•  ë•Œ ì‹¤í–‰**ë¼ìš”.
> ì—¬ê¸°ì„œ Extension ë“±ë¡í•˜ê³ , Task ë“±ë¡í•˜ê³ ... ì´ˆê¸° ì„¤ì •ì„ ë‹¤ í•´ìš”.
>
> ```
> ì‚¬ìš©ìê°€ plugins { id 'com.example.my-plugin' } ì“°ë©´
>      â†“
> MyPlugin.apply(project) ê°€ ìë™ìœ¼ë¡œ í˜¸ì¶œë¨!
> ```

```kotlin
// src/main/kotlin/com/example/MyPlugin.kt
package com.example

import org.gradle.api.Plugin
import org.gradle.api.Project

class MyPlugin : Plugin<Project> {

    override fun apply(project: Project) {
        // 1. í”ŒëŸ¬ê·¸ì¸ì´ ì ìš©ë  ë•Œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œ
        println("MyPluginì´ ${project.name}ì— ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!")

        // 2. Extension ë“±ë¡ â†’ ì‚¬ìš©ìê°€ myConfig { } ë¸”ë¡ì„ ì“¸ ìˆ˜ ìˆê²Œ ë¨
        project.extensions.create("myConfig", MyExtension::class.java)

        // 3. Task ë“±ë¡ â†’ ì‚¬ìš©ìê°€ gradle myTask ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë¨
        project.tasks.register("myTask", MyTask::class.java) {
            it.group = "custom"
            it.description = "ë‚´ ì»¤ìŠ¤í…€ íƒœìŠ¤í¬"
        }
    }
}
```

### 4.4 ì‚¬ìš©ì í”„ë¡œì íŠ¸ì—ì„œ ì ìš©

```groovy
// ì‚¬ìš©ìì˜ build.gradle
plugins {
    id 'com.example.my-plugin' version '1.0.0'
}

// Extension ì‚¬ìš©
myConfig {
    message = 'Hello from config!'
}

// Task ì‹¤í–‰
// $ gradle myTask
```

---

## 5. Extension (DSL ì„¤ì •)

> **Extension = í”ŒëŸ¬ê·¸ì¸ì˜ "ì„¤ì • í™”ë©´"**
>
> ì•±ì— ì„¤ì • í™”ë©´ì´ ìˆë“¯ì´, í”ŒëŸ¬ê·¸ì¸ì—ë„ ì„¤ì •ì´ í•„ìš”í•´ìš”.
> Extensionì´ ë°”ë¡œ ê·¸ ì„¤ì •ì„ ë‹´ë‹¹í•´ìš”.
>
> ì‚¬ìš©ìê°€ `build.gradle`ì—ì„œ:
> ```groovy
> myConfig {
>     message = 'Hello'
>     count = 10
> }
> ```
> ì´ë ‡ê²Œ ì“¸ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²Œ Extensionì´ì—ìš”!

### 5.1 Extensionì´ë€?

**Extension** = í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©ìê°€ ì„¤ì •í•  ìˆ˜ ìˆëŠ” DSL ë¸”ë¡

```groovy
// ì´ëŸ° DSLì„ ì œê³µí•˜ê³  ì‹¶ë‹¤ë©´:
appBuilder {
    ecrRegistry = 'xxx.dkr.ecr.region.amazonaws.com'
    workspace = '/path/to/project'

    github {
        username = 'user'
        password = 'token'
    }
}
```

### 5.2 ë‹¨ìˆœ Extension

> **ê°€ì¥ ê¸°ë³¸ì ì¸ Extension ë§Œë“¤ê¸°**
>
> Extension í´ë˜ìŠ¤ëŠ” **ì„¤ì •ê°’ì„ ë‹´ëŠ” ê·¸ë¦‡**ì´ì—ìš”.
>
> `Property<String>`ì´ ë­ëƒê³ ìš”?
> ê·¸ëƒ¥ `String` ì“°ë©´ ì•ˆ ë˜ë‚˜ìš”? ì•ˆ ë¼ìš”!
>
> Gradleì€ **ì§€ì—° í‰ê°€(Lazy Evaluation)**ë¥¼ ì¨ìš”.
> "ì§€ê¸ˆ ë‹¹ì¥ ê°’ì´ ë­”ì§€ ëª°ë¼ë„ ë¼, ë‚˜ì¤‘ì— í•„ìš”í•  ë•Œ ê°€ì ¸ì˜¬ê²Œ"
>
> ì™œëƒí•˜ë©´ build.gradle íŒŒì¼ì´ ìœ„ì—ì„œ ì•„ë˜ë¡œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ëŠ”ë°,
> Extension ë“±ë¡í•  ë•ŒëŠ” ì•„ì§ ì‚¬ìš©ìê°€ ê°’ì„ ì•ˆ ë„£ì—ˆì„ ìˆ˜ë„ ìˆê±°ë“ ìš”.
>
> `Property`ëŠ” "ë‚˜ì¤‘ì— ê°’ì´ ë“¤ì–´ì˜¬ ë°•ìŠ¤"ë¼ê³  ìƒê°í•˜ë©´ ë¼ìš”.

```kotlin
// Extension í´ë˜ìŠ¤
package com.example

import org.gradle.api.provider.Property

abstract class MyExtension {
    // Property: Gradleì˜ ì§€ì—° í‰ê°€ íƒ€ì… (ë‚˜ì¤‘ì— ê°’ì´ ì±„ì›Œì§ˆ ë°•ìŠ¤)
    abstract val message: Property<String>
    abstract val count: Property<Int>

    init {
        // ê¸°ë³¸ê°’ ì„¤ì •
        message.convention("Default message")
        count.convention(10)
    }
}
```

```kotlin
// í”ŒëŸ¬ê·¸ì¸ì—ì„œ ë“±ë¡
class MyPlugin : Plugin<Project> {
    override fun apply(project: Project) {
        // Extension ë“±ë¡
        val extension = project.extensions.create(
            "myConfig",
            MyExtension::class.java
        )

        // Taskì—ì„œ Extension ê°’ ì‚¬ìš©
        project.tasks.register("printConfig") {
            it.doLast {
                println("Message: ${extension.message.get()}")
                println("Count: ${extension.count.get()}")
            }
        }
    }
}
```

```groovy
// ì‚¬ìš©ìì˜ build.gradle
myConfig {
    message = 'Hello!'
    count = 42
}

// $ gradle printConfig
// Message: Hello!
// Count: 42
```

### 5.3 ì¤‘ì²© Extension

> **ì„¤ì • ì•ˆì— ì„¤ì •ì´ ìˆë‹¤ë©´?**
>
> ì„¤ì •ì´ ë³µì¡í•´ì§€ë©´ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê³  ì‹¶ì„ ë•Œê°€ ìˆì–´ìš”.
>
> ```groovy
> appBuilder {
>     ecrRegistry = '...'
>
>     github {           // â† ì´ë ‡ê²Œ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê³  ì‹¶ë‹¤!
>         username = '...'
>         password = '...'
>     }
> }
> ```
>
> ì´ëŸ° ê±¸ **ì¤‘ì²© Extension**ì´ë¼ê³  í•´ìš”.
> Extension ì•ˆì— ë˜ ë‹¤ë¥¸ Extensionì„ ë„£ëŠ” ê±°ì£ .

```kotlin
// ì¤‘ì²© ì„¤ì •ì„ ìœ„í•œ í´ë˜ìŠ¤ë“¤
abstract class AppBuilderExtension(objects: ObjectFactory) {
    abstract val ecrRegistry: Property<String>
    abstract val workspace: Property<String>

    // ì¤‘ì²© Extension
    val github: GithubConfig = objects.newInstance(GithubConfig::class.java)
    val nexus: NexusConfig = objects.newInstance(NexusConfig::class.java)

    companion object {
        const val NAME = "appBuilder"
    }
}

abstract class GithubConfig {
    abstract val username: Property<String>
    abstract val password: Property<String>
}

abstract class NexusConfig {
    abstract val url: Property<String>
    abstract val username: Property<String>
    abstract val password: Property<String>
}
```

```kotlin
// í”ŒëŸ¬ê·¸ì¸ì—ì„œ ë“±ë¡
class MyPlugin : Plugin<Project> {
    override fun apply(project: Project) {
        project.extensions.create(
            AppBuilderExtension.NAME,
            AppBuilderExtension::class.java,
            project.objects  // ObjectFactory ì „ë‹¬
        )
    }
}
```

```groovy
// ì‚¬ìš©ìì˜ build.gradle
appBuilder {
    ecrRegistry = 'xxx.dkr.ecr.region.amazonaws.com'
    workspace = '/path/to/project'

    github {
        username = 'myuser'
        password = 'mytoken'
    }

    nexus {
        url = 'https://nexus.company.com'
        username = 'nexus-user'
        password = 'nexus-pass'
    }
}
```

### 5.4 í™˜ê²½ë³€ìˆ˜ì™€ Extension í†µí•©

```kotlin
abstract class AppBuilderExtension(objects: ObjectFactory) {
    abstract val ecrRegistry: Property<String>

    init {
        // í™˜ê²½ë³€ìˆ˜ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©
        ecrRegistry.convention(
            System.getenv("ECR_REGISTRY") ?: ""
        )
    }
}
```

```groovy
// ì‚¬ìš©ìëŠ” í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” ì§ì ‘ ì„¤ì • ê°€ëŠ¥
appBuilder {
    // ì„¤ì •í•˜ë©´ í™˜ê²½ë³€ìˆ˜ë³´ë‹¤ ìš°ì„ 
    ecrRegistry = 'custom-registry.com'

    // ì„¤ì • ì•ˆ í•˜ë©´ í™˜ê²½ë³€ìˆ˜ ECR_REGISTRY ì‚¬ìš©
}
```

---

## 6. Task ê°œë°œ

> **Task = í”ŒëŸ¬ê·¸ì¸ì´ "ì‹¤ì œë¡œ í•˜ëŠ” ì¼"**
>
> Extensionì´ "ì„¤ì •"ì´ë¼ë©´, TaskëŠ” "í–‰ë™"ì´ì—ìš”.
>
> ì˜ˆë¥¼ ë“¤ì–´:
> - `GetTargets` Task â†’ ë³€ê²½ëœ ëª¨ë“ˆ ì°¾ê¸°
> - `AppBuilder` Task â†’ Docker ì´ë¯¸ì§€ ë¹Œë“œí•˜ê¸°
>
> Task í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ í•µì‹¬ì€:
> 1. `@TaskAction` ë¶™ì€ ë©”ì„œë“œ = **ì‹¤ì œ ì‹¤í–‰ë  ì½”ë“œ**
> 2. `@Input` ë¶™ì€ í•„ë“œ = **ì…ë ¥ê°’** (ì´ê²Œ ë°”ë€Œë©´ Task ë‹¤ì‹œ ì‹¤í–‰)
> 3. `@Output` ë¶™ì€ í•„ë“œ = **ì¶œë ¥ë¬¼** (ìºì‹±ì— ì‚¬ìš©)

### 6.1 Task ê¸°ë³¸ êµ¬ì¡°

> **Task í´ë˜ìŠ¤ì˜ ë¼ˆëŒ€**
>
> TaskëŠ” `DefaultTask`ë¥¼ ìƒì†ë°›ì•„ì„œ ë§Œë“¤ì–´ìš”.
> `@TaskAction`ì´ ë¶™ì€ ë©”ì„œë“œê°€ `gradle myTask` í•  ë•Œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œì˜ˆìš”.

```kotlin
package com.example.tasks

import org.gradle.api.DefaultTask
import org.gradle.api.tasks.TaskAction
import org.gradle.api.tasks.Input
import org.gradle.api.tasks.OutputFile
import org.gradle.api.provider.Property
import org.gradle.api.file.RegularFileProperty
import java.io.File

abstract class MyTask : DefaultTask() {

    // ì…ë ¥ ê°’ (ë³€ê²½ë˜ë©´ Task ì¬ì‹¤í–‰)
    @get:Input
    abstract val message: Property<String>

    // ì¶œë ¥ íŒŒì¼
    @get:OutputFile
    abstract val outputFile: RegularFileProperty

    init {
        // ê¸°ë³¸ê°’
        group = "custom"
        description = "ë‚´ ì»¤ìŠ¤í…€ íƒœìŠ¤í¬"
    }

    @TaskAction
    fun execute() {
        // Task ì‹¤í–‰ ë¡œì§
        val msg = message.get()
        val file = outputFile.get().asFile

        println("ë©”ì‹œì§€: $msg")
        file.writeText(msg)
        println("íŒŒì¼ ìƒì„±: ${file.absolutePath}")
    }

    companion object {
        const val TASK_NAME = "myTask"
    }
}
```

### 6.2 Taskë¥¼ í”ŒëŸ¬ê·¸ì¸ì— ë“±ë¡

```kotlin
class MyPlugin : Plugin<Project> {
    override fun apply(project: Project) {
        // Extension ë“±ë¡
        val extension = project.extensions.create(
            "myConfig",
            MyExtension::class.java
        )

        // Task ë“±ë¡ ë° Extensionê³¼ ì—°ê²°
        project.tasks.register(MyTask.TASK_NAME, MyTask::class.java) { task ->
            // Extension ê°’ì„ Taskì— ì „ë‹¬
            task.message.set(extension.message)

            // ì¶œë ¥ íŒŒì¼ ê²½ë¡œ ì„¤ì •
            task.outputFile.set(
                project.layout.buildDirectory.file("output/result.txt")
            )
        }
    }
}
```

### 6.3 Task ì…ì¶œë ¥ ì–´ë…¸í…Œì´ì…˜

> **ì™œ @Input, @Outputì„ ë¶™ì¼ê¹Œìš”?**
>
> Gradleì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ê°€ **ì¦ë¶„ ë¹Œë“œ**ì˜ˆìš”.
> "ì´ì „ì— ë¹Œë“œí•œ ê±°ë‘ ë­ê°€ ë‹¬ë¼ì¡Œì§€?" í™•ì¸í•´ì„œ, ë‹¬ë¼ì§„ ê²ƒë§Œ ë‹¤ì‹œ ë¹Œë“œí•´ìš”.
>
> ì´ê±¸ ìœ„í•´ Gradleì´ ì•Œì•„ì•¼ í•˜ëŠ” ê²Œ:
> - **@Input**: "ì´ ê°’ì´ ë°”ë€Œë©´ Task ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼ í•´"
> - **@Output**: "ì´ íŒŒì¼ì´ ê²°ê³¼ë¬¼ì´ì•¼, ìºì‹±í•´ë‘¬"
>
> ì˜ˆë¥¼ ë“¤ì–´ `@Input version = "1.0.0"`ì¸ë° ê°’ì´ ì•ˆ ë°”ë€Œì—ˆìœ¼ë©´?
> â†’ Task ìŠ¤í‚µ! (ì‹œê°„ ì ˆì•½)
>
> ```
> $ gradle build
> > Task :compileJava UP-TO-DATE  â† ì…ë ¥ì´ ì•ˆ ë°”ë€Œì–´ì„œ ìŠ¤í‚µë¨!
> ```

```kotlin
abstract class BuildTask : DefaultTask() {

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ì…ë ¥ (Input) - ê°’ì´ ë°”ë€Œë©´ Task ì¬ì‹¤í–‰
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    @get:Input                          // ë‹¨ìˆœ ê°’
    abstract val version: Property<String>

    @get:Input
    @get:Optional                       // ì„ íƒì  ì…ë ¥
    abstract val optionalConfig: Property<String>

    @get:InputFile                      // ì…ë ¥ íŒŒì¼
    abstract val configFile: RegularFileProperty

    @get:InputDirectory                 // ì…ë ¥ ë””ë ‰í† ë¦¬
    abstract val sourceDir: DirectoryProperty

    @get:InputFiles                     // ì—¬ëŸ¬ íŒŒì¼
    abstract val resources: ConfigurableFileCollection

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ì¶œë ¥ (Output) - ì¦ë¶„ ë¹Œë“œì— ì‚¬ìš©
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    @get:OutputFile                     // ì¶œë ¥ íŒŒì¼
    abstract val outputFile: RegularFileProperty

    @get:OutputDirectory                // ì¶œë ¥ ë””ë ‰í† ë¦¬
    abstract val outputDir: DirectoryProperty

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ë‚´ë¶€ (Internal) - ìºì‹±ì— ì˜í–¥ ì—†ìŒ
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    @get:Internal
    abstract val tempData: Property<String>

    @TaskAction
    fun execute() {
        // êµ¬í˜„
    }
}
```

### 6.4 Task ì˜ì¡´ì„±

> **Taskë¼ë¦¬ ìˆœì„œê°€ ìˆì–´ìš”**
>
> "í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë¨¼ì € ì»´íŒŒì¼í•´ì•¼ í•´" ì´ëŸ° ìˆœì„œ ê´€ê³„ë¥¼ **ì˜ì¡´ì„±**ì´ë¼ê³  í•´ìš”.
>
> - `dependsOn(taskA)`: "taskAê°€ ë¨¼ì € ì‹¤í–‰ë˜ì–´ì•¼ í•´"
> - `mustRunAfter(taskB)`: "taskB ë‹¤ìŒì— ì‹¤í–‰í•´ì¤˜ (ê·¼ë° taskBëŠ” í•„ìˆ˜ëŠ” ì•„ëƒ)"
>
> ë§ˆì¹˜ ìš”ë¦¬í•  ë•Œ:
> - ë³¶ìŒë°¥ ë§Œë“¤ë ¤ë©´ â†’ ë¨¼ì € ë°¥ì´ ìˆì–´ì•¼ í•¨ (`dependsOn`)
> - ë°¥ ìˆìœ¼ë©´ â†’ ë³¶ìŒë°¥ ë§Œë“  ë‹¤ìŒì— ì„¤ê±°ì§€ (`mustRunAfter`)

```kotlin
class MyPlugin : Plugin<Project> {
    override fun apply(project: Project) {
        // Task A ë“±ë¡
        val taskA = project.tasks.register("taskA") {
            it.doLast { println("Task A ì‹¤í–‰") }
        }

        // Task B ë“±ë¡ (Aì— ì˜ì¡´)
        val taskB = project.tasks.register("taskB") {
            it.dependsOn(taskA)
            it.doLast { println("Task B ì‹¤í–‰") }
        }

        // Task C ë“±ë¡ (B ë‹¤ìŒì— ì‹¤í–‰)
        project.tasks.register("taskC") {
            it.mustRunAfter(taskB)
            it.doLast { println("Task C ì‹¤í–‰") }
        }

        // ê¸°ì¡´ Taskì— ì˜ì¡´ì„± ì¶”ê°€
        project.tasks.named("build").configure {
            it.dependsOn(taskB)
        }
    }
}

// $ gradle taskB
// ì¶œë ¥:
// Task A ì‹¤í–‰
// Task B ì‹¤í–‰

// $ gradle taskC taskB
// ì¶œë ¥:
// Task A ì‹¤í–‰
// Task B ì‹¤í–‰
// Task C ì‹¤í–‰ (B ë‹¤ìŒì—)
```

### 6.5 ì™¸ë¶€ ëª…ë ¹ ì‹¤í–‰

```kotlin
abstract class ShellTask : DefaultTask() {

    @get:Input
    abstract val command: Property<String>

    @TaskAction
    fun execute() {
        val cmd = command.get()

        // ë°©ë²• 1: project.exec
        project.exec {
            it.commandLine("sh", "-c", cmd)
        }

        // ë°©ë²• 2: ProcessBuilder (ë” ì„¸ë°€í•œ ì œì–´)
        val processBuilder = ProcessBuilder("sh", "-c", cmd)
            .directory(project.projectDir)
            .redirectErrorStream(true)

        val process = processBuilder.start()
        val output = process.inputStream.bufferedReader().readText()
        val exitCode = process.waitFor()

        if (exitCode != 0) {
            throw RuntimeException("ëª…ë ¹ ì‹¤íŒ¨: $cmd\n$output")
        }

        println(output)
    }
}
```

---

## 7. í”ŒëŸ¬ê·¸ì¸ ë°°í¬

> **ë§Œë“  í”ŒëŸ¬ê·¸ì¸ì„ ì–´ë–»ê²Œ ê³µìœ í• ê¹Œìš”?**
>
> í”ŒëŸ¬ê·¸ì¸ì„ ë§Œë“¤ì—ˆìœ¼ë©´ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ì“¸ ìˆ˜ ìˆê²Œ **ë°°í¬**í•´ì•¼ í•´ìš”.
>
> ë°°í¬ ë°©ë²• 3ê°€ì§€:
> 1. **ë¡œì»¬ ë°°í¬** (ë‚´ ì»´í“¨í„°ì—ì„œë§Œ) - í…ŒìŠ¤íŠ¸ìš©
> 2. **ì‚¬ì„¤ ì €ì¥ì†Œ** (íšŒì‚¬ Nexus) - íšŒì‚¬ ë‚´ë¶€ìš©
> 3. **Gradle Plugin Portal** (ì „ ì„¸ê³„ ê³µê°œ) - ì˜¤í”ˆì†ŒìŠ¤ìš©

### 7.1 ë¡œì»¬ í…ŒìŠ¤íŠ¸ (publishToMavenLocal)

> **ì¼ë‹¨ ë‚´ ì»´í“¨í„°ì—ì„œ í…ŒìŠ¤íŠ¸í•´ë³´ê¸°**
>
> `gradle publishToMavenLocal` í•˜ë©´ ë‚´ ì»´í“¨í„°ì˜ `~/.m2/repository`ì— í”ŒëŸ¬ê·¸ì¸ì´ ì„¤ì¹˜ë¼ìš”.
> ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ `mavenLocal()`ì„ ì¶”ê°€í•˜ë©´ ì´ í”ŒëŸ¬ê·¸ì¸ì„ ê°€ì ¸ë‹¤ ì“¸ ìˆ˜ ìˆì–´ìš”.

```kotlin
// build.gradle.kts
plugins {
    `kotlin-dsl`
    `maven-publish`
}

// $ gradle publishToMavenLocal
// ~/.m2/repositoryì— ë°°í¬ë¨
```

```groovy
// í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ì˜ settings.gradle
pluginManagement {
    repositories {
        mavenLocal()  // ë¡œì»¬ ì €ì¥ì†Œ ìš°ì„ 
        gradlePluginPortal()
    }
}
```

### 7.2 ì‚¬ì„¤ ì €ì¥ì†Œ ë°°í¬ (Nexus)

```kotlin
// build.gradle.kts
publishing {
    repositories {
        maven {
            name = "nexus"
            url = uri("https://nexus.company.com/repository/maven-hosted/")
            credentials {
                username = System.getenv("NEXUS_USERNAME")
                    ?: providers.gradleProperty("NEXUS_USERNAME").orNull
                password = System.getenv("NEXUS_PASSWORD")
                    ?: providers.gradleProperty("NEXUS_PASSWORD").orNull
            }
        }
    }
}

// $ gradle publish
```

### 7.3 Gradle Plugin Portal ë°°í¬

```kotlin
// build.gradle.kts
plugins {
    `kotlin-dsl`
    `com.gradle.plugin-publish` version "1.2.0"
}

gradlePlugin {
    website = "https://github.com/yourorg/your-plugin"
    vcsUrl = "https://github.com/yourorg/your-plugin.git"

    plugins {
        create("myPlugin") {
            id = "com.example.my-plugin"
            implementationClass = "com.example.MyPlugin"
            displayName = "My Plugin"
            description = "í”ŒëŸ¬ê·¸ì¸ ì„¤ëª…"
            tags = listOf("ci", "cd", "build")
        }
    }
}

// $ gradle publishPlugins
```

---

## 8. ì‹¤ì „ ì˜ˆì œ: app-builder-plugin

> **ì´ ì„¹ì…˜ì€ ê°„ëµí•œ ì†Œê°œì…ë‹ˆë‹¤.**
>
> app-builder-pluginì˜ **ìƒì„¸í•œ ë¶„ì„**ì€ [Part 4: App-Builder Plugin ì‹¤ì „ ë¶„ì„](/2026/01/cicd-4-app-builder-plugin)ì—ì„œ ë‹¤ë£¹ë‹ˆë‹¤.

### 8.1 í”„ë¡œì íŠ¸ êµ¬ì¡°: Gradle í”ŒëŸ¬ê·¸ì¸ + Jenkins Shared Library

> **app-builder-pluginì€ ë‘ ê°€ì§€ê°€ í•¨ê»˜ ìˆì–´ìš”!**
>
> ë‹¨ìˆœíˆ Gradle í”ŒëŸ¬ê·¸ì¸ë§Œ ìˆëŠ” ê²Œ ì•„ë‹ˆë¼, **Jenkins Shared Library**ë„ í•¨ê»˜ ìˆì–´ìš”.
> ì´ ë‘˜ì´ í˜‘ë ¥í•´ì„œ CI/CD íŒŒì´í”„ë¼ì¸ì„ ì™„ì„±í•©ë‹ˆë‹¤.

```
app-builder-plugin/
â”‚
â”œâ”€â”€ app-builder-gradle-plugin/           # ğŸ”§ Gradle í”ŒëŸ¬ê·¸ì¸
â”‚   â”œâ”€â”€ build.gradle.kts
â”‚   â””â”€â”€ src/main/kotlin/
â”‚       â””â”€â”€ com/knet/plugins/gradle/
â”‚           â”œâ”€â”€ AppBuilderPlugin.kt      # Plugin<Project> êµ¬í˜„
â”‚           â”œâ”€â”€ extension/
â”‚           â”‚   â”œâ”€â”€ AppBuilderExtension.kt
â”‚           â”‚   â””â”€â”€ config/
â”‚           â”‚       â”œâ”€â”€ GithubConfig.kt
â”‚           â”‚       â”œâ”€â”€ NexusConfig.kt
â”‚           â”‚       â””â”€â”€ ...
â”‚           â””â”€â”€ tasks/
â”‚               â”œâ”€â”€ targets/
â”‚               â”‚   â””â”€â”€ GetTargetsTask.kt    # ë³€ê²½ ê°ì§€
â”‚               â””â”€â”€ builder/
â”‚                   â”œâ”€â”€ AppBuilderTask.kt    # ë¹Œë“œ ì‹¤í–‰
â”‚                   â””â”€â”€ executor/
â”‚                       â”œâ”€â”€ BuildExecutor.kt
â”‚                       â”œâ”€â”€ HelmExecutor.kt
â”‚                       â””â”€â”€ VersionExecutor.kt
â”‚
â””â”€â”€ app-builder-gradle-plugin-pipeline/  # ğŸš€ Jenkins Shared Library
    â””â”€â”€ vars/
        â””â”€â”€ build.groovy                 # build() í•¨ìˆ˜ ì •ì˜
```

### 8.2 ë‘ ê°€ì§€ ì—­í• 

| êµ¬ë¶„        | Gradle í”ŒëŸ¬ê·¸ì¸                  | Jenkins Shared Library                |
|-----------|------------------------------|---------------------------------------|
| **ìœ„ì¹˜**    | `app-builder-gradle-plugin/` | `app-builder-gradle-plugin-pipeline/` |
| **ì—­í• **    | ë¹Œë“œ ë¡œì§ (ë³€ê²½ ê°ì§€, ì´ë¯¸ì§€ ë¹Œë“œ)        | CI/CD íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜                   |
| **ì‚¬ìš© ìœ„ì¹˜** | í”„ë¡œì íŠ¸ì˜ `build.gradle`         | `Jenkinsfile`                         |
| **í˜¸ì¶œ ë°©ì‹** | `gradle GetTargets`          | `@Library(...) _` + `build()`         |
| **ê°œë°œ ì–¸ì–´** | Kotlin                       | Groovy                                |

> **í•µì‹¬ í¬ì¸íŠ¸**
>
> - **Gradle í”ŒëŸ¬ê·¸ì¸**: "**ì–´ë–»ê²Œ** ë¹Œë“œí•  ê²ƒì¸ê°€" (ì‹¤ì œ ë¹Œë“œ ë¡œì§)
> - **Jenkins Shared Library**: "**ì–¸ì œ, ì–´ë–¤ ìˆœì„œë¡œ** ë¹Œë“œí•  ê²ƒì¸ê°€" (íŒŒì´í”„ë¼ì¸ íë¦„)

### 8.3 í˜¸ì¶œ ë°©ì‹ì˜ ì°¨ì´

> **Gradle í”ŒëŸ¬ê·¸ì¸ê³¼ Jenkins Shared LibraryëŠ” ì™„ì „íˆ ë‹¤ë¥¸ ì‹œìŠ¤í…œì´ì—ìš”!**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ë‘ ê°€ì§€ ì™„ì „íˆ ë‹¤ë¥¸ í˜¸ì¶œ ë°©ì‹!                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Gradle í”ŒëŸ¬ê·¸ì¸                 Jenkins Shared Library      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚                                                              â”‚
â”‚  build.gradle:                   Jenkinsfile:                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ plugins {           â”‚        â”‚ @Library('...') _   â”‚     â”‚
â”‚  â”‚     id 'java'       â”‚        â”‚ build()             â”‚     â”‚
â”‚  â”‚     id 'app-builder'â”‚        â”‚                     â”‚     â”‚
â”‚  â”‚ }                   â”‚        â”‚                     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚           â”‚                              â”‚                   â”‚
â”‚           â–¼                              â–¼                   â”‚
â”‚  Plugin.apply(project)           vars/build.groovy          â”‚
â”‚  â†’ Task ë“±ë¡                      â†’ call() ì‹¤í–‰              â”‚
â”‚           â”‚                              â”‚                   â”‚
â”‚           â–¼                              â–¼                   â”‚
â”‚  $ gradle build                  Jenkinsê°€ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰   â”‚
â”‚  $ gradle compileJava                                        â”‚
â”‚  $ gradle GetTargets                                         â”‚
â”‚  $ gradle AppBuilder                                         â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### í˜¸ì¶œ ë°©ì‹ ë¹„êµ

| êµ¬ë¶„         | Gradle í”ŒëŸ¬ê·¸ì¸             | Jenkins Shared Library |
|------------|-------------------------|------------------------|
| **ì„ ì–¸**     | `plugins { id 'java' }` | `@Library('...') _`    |
| **í˜¸ì¶œ**     | `gradle <taskëª…>`        | `í•¨ìˆ˜ëª…()` (ì˜ˆ: `build()`) |
| **ì‹¤í–‰ ì£¼ì²´**  | Gradle CLI              | Jenkins                |
| **í•µì‹¬ ë©”ì„œë“œ** | `apply(project)`        | `call()`               |
| **ê²°ê³¼ë¬¼**    | Task ë“±ë¡                 | Pipeline ì‹¤í–‰            |

#### ì˜ˆì‹œ: java í”ŒëŸ¬ê·¸ì¸ vs app-builder í”ŒëŸ¬ê·¸ì¸

```groovy
// build.gradle
plugins {
    id 'java'                    // JavaPlugin.apply() â†’ Task ë“±ë¡
    id 'app-builder'             // AppBuilderPlugin.apply() â†’ Task ë“±ë¡
}
```

```bash
# java í”ŒëŸ¬ê·¸ì¸ì´ ë“±ë¡í•œ Task ì‹¤í–‰
$ gradle compileJava
$ gradle test
$ gradle jar
$ gradle build

# app-builder í”ŒëŸ¬ê·¸ì¸ì´ ë“±ë¡í•œ Task ì‹¤í–‰
$ gradle GetTargets      # ë³€ê²½ëœ ëª¨ë“ˆ ê°ì§€
$ gradle AppBuilder      # Docker ë¹Œë“œ, Helm ë°°í¬
```

#### ì˜ˆì‹œ: Jenkins Shared Library

```groovy
// Jenkinsfile
@Library('app-builder-gradle-plugin-pipeline') _

build()      // vars/build.groovyì˜ call() ì§ì ‘ í˜¸ì¶œ
// ë‚´ë¶€ì—ì„œ sh 'gradle GetTargets' ì‹¤í–‰
// ë‚´ë¶€ì—ì„œ sh 'gradle AppBuilder' ì‹¤í–‰
```

#### ì „ì²´ íë¦„ ì •ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ì‹¤í–‰ ìˆœì„œ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. plugins { id 'app-builder' }                            â”‚
â”‚         â”‚                                                    â”‚
â”‚         â–¼                                                    â”‚
â”‚     AppBuilderPlugin.apply(project)                         â”‚
â”‚         â”‚                                                    â”‚
â”‚         â”œâ”€ GetTargets Task ë“±ë¡                              â”‚
â”‚         â””â”€ AppBuilder Task ë“±ë¡                              â”‚
â”‚                                                              â”‚
â”‚  2. Jenkinsfileì—ì„œ build() í˜¸ì¶œ                             â”‚
â”‚         â”‚                                                    â”‚
â”‚         â–¼                                                    â”‚
â”‚     vars/build.groovyì˜ call() ì‹¤í–‰                         â”‚
â”‚         â”‚                                                    â”‚
â”‚         â”œâ”€ sh './gradlew GetTargets'  â†’ GetTargetsTask ì‹¤í–‰ â”‚
â”‚         â””â”€ sh './gradlew AppBuilder'  â†’ AppBuilderTask ì‹¤í–‰ â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **í•µì‹¬ ì°¨ì´**
> - **Gradle í”ŒëŸ¬ê·¸ì¸**: Taskë¥¼ **ë“±ë¡**í•˜ê³ , `gradle ëª…ë ¹ì–´`ë¡œ ì‹¤í–‰
> - **Jenkins Library**: í•¨ìˆ˜ë¥¼ **ì •ì˜**í•˜ê³ , `í•¨ìˆ˜ëª…()`ìœ¼ë¡œ ì§ì ‘ í˜¸ì¶œ
> - **ë‘˜ì˜ í˜‘ë ¥**: Jenkinsì—ì„œ `build()` â†’ ë‚´ë¶€ì—ì„œ `gradle GetTargets` ëª…ë ¹ì–´ ì‹¤í–‰!

### 8.4 ì „ì²´ CI/CD íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì „ì²´ CI/CD íë¦„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Jenkinsfile (ê° í”„ë¡œì íŠ¸ì— ìˆìŒ)                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚     â”‚ @Library('app-builder-gradle-plugin-pipeline') _ â”‚     â”‚
â”‚     â”‚ build()                                          â”‚     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  2. Jenkins Shared Library (vars/build.groovy)              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚     â”‚ def call() {                                     â”‚     â”‚
â”‚     â”‚     stage('Detect Changes') {                    â”‚     â”‚
â”‚     â”‚         sh './gradlew GetTargets'  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚     â”‚
â”‚     â”‚     }                                        â”‚    â”‚     â”‚
â”‚     â”‚     stage('Build & Deploy') {                â”‚    â”‚     â”‚
â”‚     â”‚         sh './gradlew AppBuilder'  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚     â”‚
â”‚     â”‚     }                                        â”‚    â”‚     â”‚
â”‚     â”‚ }                                            â”‚    â”‚     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”˜     â”‚
â”‚              â”‚                                      â”‚         â”‚
â”‚              â–¼                                      â–¼         â”‚
â”‚  3. Gradle í”ŒëŸ¬ê·¸ì¸ (app-builder-gradle-plugin)              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚     â”‚ AppBuilderPlugin.kt                             â”‚     â”‚
â”‚     â”‚   â”œâ”€ Extension ë“±ë¡ (appBuilder { })            â”‚     â”‚
â”‚     â”‚   â”œâ”€ GetTargetsTask: ë³€ê²½ëœ ëª¨ë“ˆ ê°ì§€            â”‚     â”‚
â”‚     â”‚   â””â”€ AppBuilderTask: Docker ë¹Œë“œ, Helm ë°°í¬     â”‚     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.5 ì‚¬ìš© ì˜ˆì‹œ

**1. í”„ë¡œì íŠ¸ì˜ build.gradle (Gradle í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©)**

```groovy
plugins {
    id 'java'
    id 'com.knet.plugins.app-builder-gradle-plugin' version '1.0.0'
}

appBuilder {
    ecrRegistry = 'xxx.dkr.ecr.ap-northeast-2.amazonaws.com'
    workspace = '/path/to/project'

    github {
        username = 'user'
        password = 'token'
    }

    nexus {
        url = 'https://nexus.company.com'
    }
}
```

**2. í”„ë¡œì íŠ¸ì˜ Jenkinsfile (Jenkins Shared Library ì‚¬ìš©)**

```groovy
@Library('app-builder-gradle-plugin-pipeline') _

build()  // ì´ í•œ ì¤„ë¡œ ì „ì²´ CI/CD íŒŒì´í”„ë¼ì¸ ì‹¤í–‰!
```

**3. vars/build.groovy (Shared Library ë‚´ë¶€)**

```groovy
def call() {
    pipeline {
        agent any

        stages {
            stage('Checkout') {
                steps {
                    checkout scm
                }
            }

            stage('Detect Changes') {
                steps {
                    sh './gradlew GetTargets'
                }
            }

            stage('Build & Deploy') {
                steps {
                    sh './gradlew AppBuilder'
                }
            }
        }
    }
}
```

### 8.6 Jenkins Shared Library í˜¸ì¶œ ê·œì¹™

> **`build()`ë¡œ í˜¸ì¶œí•˜ëŠ” ê±´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ” ê±¸ê¹Œìš”?**
>
> Jenkins Shared Libraryì˜ **í‘œì¤€ ê·œì¹™**ì´ì—ìš”.
> `vars/` ë””ë ‰í† ë¦¬ì˜ **íŒŒì¼ ì´ë¦„ì´ í•¨ìˆ˜ ì´ë¦„**ì´ ë˜ê³ , `call()` ë©”ì„œë“œê°€ ì‹¤í–‰ë¼ìš”!

#### íŒŒì¼ ì´ë¦„ = í•¨ìˆ˜ ì´ë¦„

```
vars/
â”œâ”€â”€ build.groovy      â†’  build() ë¡œ í˜¸ì¶œ
â”œâ”€â”€ deploy.groovy     â†’  deploy() ë¡œ í˜¸ì¶œ
â”œâ”€â”€ notify.groovy     â†’  notify() ë¡œ í˜¸ì¶œ
â””â”€â”€ myCustom.groovy   â†’  myCustom() ë¡œ í˜¸ì¶œ
```

#### call() ë©”ì„œë“œê°€ ê¸°ë³¸ ì‹¤í–‰ ë©”ì„œë“œ

```groovy
// vars/build.groovy
def call() {           // â† build() í˜¸ì¶œ ì‹œ ì´ ë©”ì„œë“œ ì‹¤í–‰
    pipeline {
        agent any
        stages {
            // ...
        }
    }
}
```

#### íŒŒë¼ë¯¸í„° ë°›ê¸°

```groovy
// vars/build.groovy
def call(Map config = [:]) {    // â† build(branch: 'main') ì´ë ‡ê²Œ í˜¸ì¶œ
    pipeline {
        agent any
        stages {
            stage('Checkout') {
                steps {
                    git branch: config.branch ?: 'develop'
                }
            }
        }
    }
}
```

```groovy
// Jenkinsfile
@Library('my-shared-library') _

build()                              // ê¸°ë³¸ê°’ ì‚¬ìš©
build(branch: 'main')                // branch íŒŒë¼ë¯¸í„° ì „ë‹¬
build(branch: 'main', skipTests: true)
```

#### ë‹¤ë¥¸ ë©”ì„œë“œë„ ì •ì˜ ê°€ëŠ¥

```groovy
// vars/build.groovy
def call() {
    // ê¸°ë³¸ ë¹Œë“œ
}

def withDocker(String image) {
    // Dockerë¡œ ë¹Œë“œ
}

def skipTests() {
    // í…ŒìŠ¤íŠ¸ ìŠ¤í‚µ ë¹Œë“œ
}
```

```groovy
// Jenkinsfile ì—ì„œ ì‚¬ìš©
build()                    // call() ì‹¤í–‰
build.withDocker('node')   // withDocker() ì‹¤í–‰
build.skipTests()          // skipTests() ì‹¤í–‰
```

> **ìš”ì•½**: `vars/íŒŒì¼ëª….groovy` â†’ `íŒŒì¼ëª…()` ìœ¼ë¡œ í˜¸ì¶œ, `call()` ë©”ì„œë“œê°€ ì‹¤í–‰ë¨!

### 8.7 ë°°ìš´ ê°œë…ì´ ì–´ë–»ê²Œ ì ìš©ë˜ëŠ”ê°€?

| ê°œë…                 | app-builder-plugin ì ìš©                              |
|--------------------|----------------------------------------------------|
| **Plugin**         | `AppBuilderPlugin.kt` - ì§„ì…ì                         |
| **Extension**      | `AppBuilderExtension.kt` - `appBuilder { }` DSL ì œê³µ |
| **Task**           | `GetTargetsTask`, `AppBuilderTask`                 |
| **ì¤‘ì²© Extension**   | `github { }`, `nexus { }`, `spring { }` ë“±          |
| **Task ì˜ì¡´ì„±**       | GetTargets â†’ AppBuilder ìˆœì„œ ì‹¤í–‰                      |
| **@Input/@Output** | ë³€ê²½ ê°ì§€, ì¦ë¶„ ë¹Œë“œì— í™œìš©                                   |

> **ë‹¤ìŒ ë‹¨ê³„**: [Part 4](/2026/01/cicd-4-app-builder-plugin)ì—ì„œ ê° ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„¸ êµ¬í˜„, Executor íŒ¨í„´, ë³€ê²½ ê°ì§€ ì•Œê³ ë¦¬ì¦˜ ë“±ì„ í•™ìŠµí•˜ì„¸ìš”.

---

## 9. ì‹¤ìŠµ: ê°„ë‹¨í•œ í”ŒëŸ¬ê·¸ì¸ ë§Œë“¤ê¸°

> **ì§ì ‘ ë§Œë“¤ì–´ë³´ëŠ” ê²Œ ìµœê³ ì˜ ê³µë¶€!**
>
> ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ë‚´ìš©ì„ ì´ì •ë¦¬í•´ì„œ, ì•„ì£¼ ê°„ë‹¨í•œ "ì¸ì‚¬ í”ŒëŸ¬ê·¸ì¸"ì„ ë§Œë“¤ì–´ë³¼ê²Œìš”.
>
> ë§Œë“¤ í”ŒëŸ¬ê·¸ì¸:
> ```groovy
> // ì‚¬ìš©ìê°€ ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´
> greeting {
>     name = 'Gradle'
>     greeting = 'ì•ˆë…•í•˜ì„¸ìš”'
> }
>
> // gradle greet ì‹¤í–‰í•˜ë©´
> // ì¶œë ¥: ì•ˆë…•í•˜ì„¸ìš”, Gradle!
> ```

### 9.1 í”„ë¡œì íŠ¸ ìƒì„±

```bash
mkdir my-gradle-plugin
cd my-gradle-plugin
gradle init --type kotlin-gradle-plugin
```

### 9.2 Extension ì‘ì„±

```kotlin
// src/main/kotlin/com/example/GreetingExtension.kt
package com.example

import org.gradle.api.provider.Property

abstract class GreetingExtension {
    abstract val name: Property<String>
    abstract val greeting: Property<String>

    init {
        name.convention("World")
        greeting.convention("Hello")
    }

    companion object {
        const val NAME = "greeting"
    }
}
```

### 9.3 Task ì‘ì„±

```kotlin
// src/main/kotlin/com/example/GreetingTask.kt
package com.example

import org.gradle.api.DefaultTask
import org.gradle.api.provider.Property
import org.gradle.api.tasks.Input
import org.gradle.api.tasks.TaskAction

abstract class GreetingTask : DefaultTask() {

    @get:Input
    abstract val name: Property<String>

    @get:Input
    abstract val greeting: Property<String>

    init {
        group = "greeting"
        description = "ì¸ì‚¬ë§ì„ ì¶œë ¥í•©ë‹ˆë‹¤"
    }

    @TaskAction
    fun greet() {
        val message = "${greeting.get()}, ${name.get()}!"
        println(message)
    }

    companion object {
        const val TASK_NAME = "greet"
    }
}
```

### 9.4 í”ŒëŸ¬ê·¸ì¸ ì‘ì„±

```kotlin
// src/main/kotlin/com/example/GreetingPlugin.kt
package com.example

import org.gradle.api.Plugin
import org.gradle.api.Project

class GreetingPlugin : Plugin<Project> {

    override fun apply(project: Project) {
        // Extension ë“±ë¡
        val extension = project.extensions.create(
            GreetingExtension.NAME,
            GreetingExtension::class.java
        )

        // Task ë“±ë¡
        project.tasks.register(GreetingTask.TASK_NAME, GreetingTask::class.java) {
            it.name.set(extension.name)
            it.greeting.set(extension.greeting)
        }
    }
}
```

### 9.5 í…ŒìŠ¤íŠ¸

```groovy
// í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ì˜ build.gradle
plugins {
    id 'com.example.greeting' version '1.0.0'
}

greeting {
    name = 'Gradle'
    greeting = 'ì•ˆë…•í•˜ì„¸ìš”'
}

// $ gradle greet
// ì¶œë ¥: ì•ˆë…•í•˜ì„¸ìš”, Gradle!
```

---

## 10. í•µì‹¬ ìš”ì•½

> **ì´ê²ƒë§Œ ê¸°ì–µí•˜ì„¸ìš”!**
>
> ### í”ŒëŸ¬ê·¸ì¸ = Extension + Task
>
> ```
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚                    í”ŒëŸ¬ê·¸ì¸ ë§Œë“¤ê¸° 3ì¤„ ìš”ì•½                    â”‚
> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
> â”‚                                                              â”‚
> â”‚  1. Extension í´ë˜ìŠ¤ ë§Œë“¤ê¸°                                  â”‚
> â”‚     â†’ ì‚¬ìš©ìê°€ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ ì •ì˜                       â”‚
> â”‚     â†’ build.gradleì—ì„œ myConfig { } ë¸”ë¡ìœ¼ë¡œ ì‚¬ìš©            â”‚
> â”‚                                                              â”‚
> â”‚  2. Task í´ë˜ìŠ¤ ë§Œë“¤ê¸°                                       â”‚
> â”‚     â†’ ì‹¤ì œë¡œ ìˆ˜í–‰í•  ì‘ì—… ì •ì˜                                 â”‚
> â”‚     â†’ @TaskAction ë©”ì„œë“œê°€ ì‹¤í–‰ë¨                            â”‚
> â”‚                                                              â”‚
> â”‚  3. Plugin í´ë˜ìŠ¤ì—ì„œ ë“±ë¡í•˜ê¸°                                â”‚
> â”‚     â†’ apply() ë©”ì„œë“œì—ì„œ Extension, Task ë“±ë¡                â”‚
> â”‚     â†’ plugins { id '...' } í•˜ë©´ apply()ê°€ í˜¸ì¶œë¨             â”‚
> â”‚                                                              â”‚
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> ```
>
> ### ë¹„ìœ ë¡œ ì •ë¦¬
>
> | ê°œë… | ë¹„ìœ  | ì„¤ëª… |
> |------|------|------|
> | **Gradle** | ì„¸íƒê¸° | ë¹Œë“œ ìë™í™” ë„êµ¬ |
> | **Plugin** | ì„¸íƒê¸° ê¸°ëŠ¥ | ìƒˆë¡œìš´ ë¹Œë“œ ê¸°ëŠ¥ ì¶”ê°€ |
> | **Extension** | ë²„íŠ¼/ë‹¤ì´ì–¼ | ì„¤ì • ì˜µì…˜ |
> | **Task** | ì„¸íƒ/í—¹êµ¼/íƒˆìˆ˜ | ì‹¤í–‰í•  ì‘ì—… |
> | **Property** | ê°’ì´ ë“¤ì–´ì˜¬ ë°•ìŠ¤ | ì§€ì—° í‰ê°€ë¥¼ ìœ„í•œ íƒ€ì… |
>
> ### ì½”ë“œ íë¦„
>
> ```
> ì‚¬ìš©ìê°€ plugins { id 'my-plugin' } ì“°ë©´
>     â†“
> Plugin.apply(project) í˜¸ì¶œë¨
>     â†“
> Extension ë“±ë¡ (myConfig { } ì‚¬ìš© ê°€ëŠ¥)
> Task ë“±ë¡ (gradle myTask ì‹¤í–‰ ê°€ëŠ¥)
>     â†“
> ì‚¬ìš©ìê°€ myConfig { message = 'Hello' } ë¡œ ì„¤ì •
>     â†“
> gradle myTask ì‹¤í–‰í•˜ë©´ Taskì˜ @TaskAction ë©”ì„œë“œ ì‹¤í–‰!
> ```

---

## 11. ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ

- [Gradle User Manual](https://docs.gradle.org/current/userguide/userguide.html)
- [Developing Custom Plugins](https://docs.gradle.org/current/userguide/custom_plugins.html)
- [Gradle Kotlin DSL Primer](https://docs.gradle.org/current/userguide/kotlin_dsl.html)

### API ë¬¸ì„œ

- [Project API](https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html)
- [Task API](https://docs.gradle.org/current/javadoc/org/gradle/api/Task.html)

### ì˜ˆì œ

- [Gradle Plugin Samples](https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples)
